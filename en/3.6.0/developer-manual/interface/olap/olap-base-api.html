<!doctype html>
<html lang="zh-CN" dir="ltr" class="docs-wrapper plugin-docs plugin-id-3-6-0_en docs-version-current docs-doc-page docs-doc-id-developer-manual/interface/olap/olap-base-api" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.5.2">
<title data-rh="true">OlapBase API | TuGraph 文档中心</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://tugraph.tech/tugraph-db/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://tugraph.tech/tugraph-db/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://tugraph.tech/tugraph-db/en/3.6.0/developer-manual/interface/olap/olap-base-api"><meta data-rh="true" property="og:locale" content="zh_CN"><meta data-rh="true" property="og:locale:alternate" content="en_US"><meta data-rh="true" name="docusaurus_locale" content="zh-CN"><meta data-rh="true" name="docsearch:language" content="zh-CN"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-3-6-0_en-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-3-6-0_en-current"><meta data-rh="true" property="og:title" content="OlapBase API | TuGraph 文档中心"><meta data-rh="true" name="description" content="This document will introduce how to use the OlapBase API"><meta data-rh="true" property="og:description" content="This document will introduce how to use the OlapBase API"><link data-rh="true" rel="icon" href="https://mdn.alipayobjects.com/huamei_qcdryc/afts/img/A*AbamQ5lxv0IAAAAAAAAAAAAADgOBAQ/original"><link data-rh="true" rel="canonical" href="https://tugraph.tech/tugraph-db/en/3.6.0/developer-manual/interface/olap/olap-base-api"><link data-rh="true" rel="alternate" href="https://tugraph.tech/tugraph-db/en/3.6.0/developer-manual/interface/olap/olap-base-api" hreflang="zh-CN"><link data-rh="true" rel="alternate" href="https://tugraph.tech/tugraph-db/en-US/en/3.6.0/developer-manual/interface/olap/olap-base-api" hreflang="en-US"><link data-rh="true" rel="alternate" href="https://tugraph.tech/tugraph-db/en/3.6.0/developer-manual/interface/olap/olap-base-api" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://DGYVABHR0M-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="TuGraph 文档中心" href="/tugraph-db/opensearch.xml">

















<meta name="algolia-site-verification" content="FC204AA054194DE3"><link rel="stylesheet" href="/tugraph-db/assets/css/styles.ce6a6631.css">
<script src="/tugraph-db/assets/js/runtime~main.349d6fd9.js" defer="defer"></script>
<script src="/tugraph-db/assets/js/main.27a83fc4.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="跳到主要内容"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">跳到主要内容</a></div><nav aria-label="主导航" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="切换导航栏" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/tugraph-db/"><div class="navbar__logo"><img src="https://mdn.alipayobjects.com/huamei_qcdryc/afts/img/A*AbamQ5lxv0IAAAAAAAAAAAAADgOBAQ/original" alt="Tugraph Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="https://mdn.alipayobjects.com/huamei_qcdryc/afts/img/A*AbamQ5lxv0IAAAAAAAAAAAAADgOBAQ/original" alt="Tugraph Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/TuGraph-family/tugraph-db" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="切换浅色/暗黑模式（当前为浅色模式）" aria-label="切换浅色/暗黑模式（当前为浅色模式）" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="搜索 (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">搜索</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="docsearch-wrapper" style="display:flex;justify-content:center;flex-direction:column"><div style="display:flex;justify-content:space-between;margin-bottom:8px"><div class="itemWrapper"><div class="titleBlock"><span class="titleText">TuGraph DB</span><div class="downIcon"></div></div><div class="contentArea"><span id="engineDescription">Community</span><span class="versionLabel">V<!-- -->3.6.0</span></div></div><div class="searchWrapper"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div><div class="sidebar_njMd"><nav aria-label="文档侧边栏" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/tugraph-db/en/3.6.0/guide">Guide</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/tugraph-db/en/3.6.0/introduction/what-is-graph">introduction</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/tugraph-db/en/3.6.0/quick-start/preparation">quick-start</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/tugraph-db/en/3.6.0/user-guide/tugraph-browser">user-guide</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/tugraph-db/en/3.6.0/developer-manual/installation/environment">developer-manual</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/tugraph-db/en/3.6.0/developer-manual/installation/environment">installation</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/tugraph-db/en/3.6.0/developer-manual/running/compile">running</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/tugraph-db/en/3.6.0/developer-manual/server-tools/data-import">server-tools</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/tugraph-db/en/3.6.0/developer-manual/client-tools/python-client">client-tools</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/tugraph-db/en/3.6.0/developer-manual/ecosystem-tools/monitoring">ecosystem-tools</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/tugraph-db/en/3.6.0/developer-manual/interface/cypher">interface</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/tugraph-db/en/3.6.0/developer-manual/interface/cypher">Cypher API</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/tugraph-db/en/3.6.0/developer-manual/interface/olap/tutorial">olap</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/tugraph-db/en/3.6.0/developer-manual/interface/olap/tutorial">Bootstrap program</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/tugraph-db/en/3.6.0/developer-manual/interface/olap/olap-base-api">OlapBase API</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/tugraph-db/en/3.6.0/developer-manual/interface/olap/olap-on-db-api">OlapOnDB API</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/tugraph-db/en/3.6.0/developer-manual/interface/olap/olap-on-disk-api">OlapOnDisk API</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/tugraph-db/en/3.6.0/developer-manual/interface/olap/python-api">Python Olap API</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/tugraph-db/en/3.6.0/developer-manual/interface/olap/algorithms">TuGraph Built-in Algorithm Description</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/tugraph-db/en/3.6.0/developer-manual/interface/procedure/procedure">procedure</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/tugraph-db/en/3.6.0/developer-manual/interface/protocol/restful-api">protocol</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/tugraph-db/en/3.6.0/developer-manual/interface/learn/tutorial">learn</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/tugraph-db/en/3.6.0/developer-manual/quality/unit-testing">quality</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/tugraph-db/en/3.6.0/developer-manual/other/privilege">other</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/tugraph-db/en/3.6.0/community-manual/contributing">community-manual</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/tugraph-db/en/3.6.0/best-practices/rdbms-to-tugraph">best-practices</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/tugraph-db/en/3.6.0/faq">FAQ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/tugraph-db/en/3.6.0/contacts">Contacts</a></li></ul></nav></div></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="页面路径"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="主页面" class="breadcrumbs__link" href="/tugraph-db/en/3.6.0/guide"><div style="color:#1a1b2572">Docs</div></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">developer-manual</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">interface</span><meta itemprop="position" content="2"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">olap</span><meta itemprop="position" content="3"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">OlapBase API</span><meta itemprop="position" content="4"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">本页总览</button></div><div class="theme-doc-markdown markdown"><header><h1>OlapBase API</h1></header>
<blockquote>
<p>This document will introduce how to use the OlapBase API</p>
</blockquote>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="1the-overview">1.The overview<a href="#1the-overview" class="hash-link" aria-label="1.The overview的直接链接" title="1.The overview的直接链接">​</a></h2>
<p>This manual will introduce the configuration of the TuGraph graph computing system. Combined with the code, several important files and interfaces in TuGraph are introduced.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="2configuration-requirements">2.Configuration requirements<a href="#2configuration-requirements" class="hash-link" aria-label="2.Configuration requirements的直接链接" title="2.Configuration requirements的直接链接">​</a></h2>
<p>To develop and compile applications using the TuGraph graph computing system, the configuration required:</p>
<ul>
<li>
<p>linux operating system, currently running successfully on Ubuntu16.04.2 and Centos7 systems.</p>
</li>
<li>
<p>Compiler that supports C++ 14, requires GCC version 5.4.1 or later.</p>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="3atomic-operations">3.Atomic operations<a href="#3atomic-operations" class="hash-link" aria-label="3.Atomic operations的直接链接" title="3.Atomic operations的直接链接">​</a></h2>
<p>TuGraph uses multi-threading technology for batch operations, in which case memory access conflicts may occur. In order to ensure the correctness of modification operations in parallel computing, TuGraph implements atomic operations. The code section can be found in the lgraph_atomic.cpp file under the lgraph folder.</p>
<p>TuGraph also customizes 4 commonly used atomic operations. When we need to modify the data of vertices in multithreaded mode, we should use atomic operations to ensure the correctness of the modification operation in parallel environment. In addition to these four atomic operations, users can also use &quot;cas&quot; to build their own atomic operation functions.</p>
<ul>
<li><code>bool cas(T \* ptr, T oldv, T newv)</code> : If the value pointed to by ptr is equal to oldv, the value pointed to by ptr is assigned to newv and returns true. Otherwise, false is returned</li>
<li><code>bool write_min(T \*a, T b)</code> : If b is smaller than the value pointed to by a, then assign the value pointed to by a to b and return true, otherwise return false.</li>
<li><code>bool write_max(T \*a, T b)</code> : If b is larger than the value pointed to by a, then assign the value pointed to by a to b and return true, otherwise return false.</li>
<li><code>void write_add(T \*a, T b)</code> : adds the value of b to the value pointed to by a.</li>
<li><code>void write_sub(T \*a, T b)</code> : subtract the value of b from the value pointed to by a.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="4vertex-class-parallelbitset">4.Vertex Class ParallelBitset<a href="#4vertex-class-parallelbitset" class="hash-link" aria-label="4.Vertex Class ParallelBitset的直接链接" title="4.Vertex Class ParallelBitset的直接链接">​</a></h2>
<p>When using TuGraph for batch operations, you need to use a vertex set to represent the vertices you want to process. ParallelBitset implements a vertex collection class that represents vertices in bits and thus saves a significant amount of memory. The corresponding code can be found in the olap_base.h file in the lgraph folder.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="41parallelbitset-class">4.1ParallelBitset Class<a href="#41parallelbitset-class" class="hash-link" aria-label="4.1ParallelBitset Class的直接链接" title="4.1ParallelBitset Class的直接链接">​</a></h3>
<ul>
<li><code>size_t Size()</code>：Indicates the number of vertices in the Bitmap.</li>
<li><code>ParallelBitset(size_t size)</code>：Initialize size and data, the length of data is (size &gt;&gt; 6)+1.</li>
<li><code>void Clear()</code>：clears the collection.</li>
<li><code>void Fill()</code>：add all vertices to the set.</li>
<li><code>bool Has(size_t i)</code>：check if vertex i is in the set.</li>
<li><code>bool Add(size_t i)</code>：add vertex i to the set.</li>
<li><code>void Swap(ParallelBitset &amp;other)</code>：exchange elements with another set of ParallelBitset.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="5vertex-array-class-parallelvector">5.Vertex Array Class ParallelVector<a href="#5vertex-array-class-parallelvector" class="hash-link" aria-label="5.Vertex Array Class ParallelVector的直接链接" title="5.Vertex Array Class ParallelVector的直接链接">​</a></h2>
<p>When using TuGraph for batch operations, you need to use an array of vertices to represent the result of processing vertices. ParallelVector implements the vertex array class. The corresponding code can be found in the olap_base.h file in the lgraph folder.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="51parallelvector-class">5.1.ParallelVector Class<a href="#51parallelvector-class" class="hash-link" aria-label="5.1.ParallelVector Class的  直接链接" title="5.1.ParallelVector Class的直接链接">​</a></h3>
<ul>
<li><code>ParallelVector(size_t capacity)</code> Builds ParallelVector. capacity is the initial size of the vertex array</li>
<li><code>T&amp; operator[](size_t i)</code> : data with subscript i</li>
<li><code>T \*begin()</code> : ParallelVector the starting pointer</li>
<li><code>T \*end()</code> : ParallelVector the end pointer to Parallelvector. begin and end are similar to the begin and end Pointers of a vector. You can use these Pointers to access an array sequentially</li>
<li><code>T&amp;Back ()</code> : ParallelVector the last data</li>
<li><code>T \*Data()</code> : represents the data in the array itself</li>
<li>`void Destroy()&#x27; : empty the ParallelVector array and delete the array</li>
<li><code>size_t Size()</code> : indicates the number of data in ParallelVector</li>
<li><code>size_t Capacity()</code> : indicates the capacity of ParallelVector</li>
<li><code>void Resize(size_t size)</code> : Change ParallelVector to size, which must be greater than or equal to the size before the change</li>
<li><code>void Clear()</code> : empty the data in ParallelVector</li>
<li><code>void ReAlloc(size_t capacity)</code> : ParallelVector is allocated with new capacity. If data exists in the array, it is migrated to the new memory</li>
<li><code>void Fill(T elem)</code> : Assign elem to all data on ParallelVector</li>
<li><code>void Append(const T&amp;elem, bool atomic = true)</code> : Add a piece of data at the end of ParallelVector</li>
<li><code>void Swap(ParallelVector&lt;t&gt; &amp;other)</code> : to exchange data with other parallelvectors</li>
<li><code>ParallelVector&lt;t&gt; Copy()</code> : copies the current ParallelVector data into the Copy array</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="6customize-data-structures">6.Customize data structures<a href="#6customize-data-structures" class="hash-link" aria-label="6.Customize data structures的直接链接" title="6.Customize data structures的直接链接">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="61basic-data-types">6.1.Basic data types<a href="#61basic-data-types" class="hash-link" aria-label="6.1.Basic data types的直接链接" title="6.1.Basic data types的直接链接">​</a></h3>
<p>We customize the data structure representation of points and edges to save memory space while covering all vertices:</p>
<ul>
<li>&#x27;Empty&#x27; : indicates a special data type with empty content.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="62combining-data-structures">6.2.Combining data structures<a href="#62combining-data-structures" class="hash-link" aria-label="6.2.Combining data structures的直接链接" title="6.2.Combining data structures的直接链接">​</a></h3>
<p>In order to facilitate calculation, we define several data structures of point and edge data according to different calculation scenarios, which are as follows:</p>
<ul>
<li><code>EdgeUnit&lt;edgedata&gt;</code> : represents an edge of weight type EdgeData, used to parse the input file, and contains three member variables:</li>
<li><code>size_t src</code> : the starting vertex of an edge</li>
<li><code>size_t dst</code> : the end of an edge</li>
<li><code>EdgeData edge_data</code> : edge weight</li>
<li><code>AdjUnit&lt;edgedata&gt;</code> : represents an edge of weight type EdgeData, used during batch computation, and contains two member variables:</li>
<li><code>size_t neighbour</code> : indicates the neighbor vertex of an edge</li>
<li><code>EdgeData edge_data</code> : edge weight</li>
<li><code>AdjList&lt;edgedata&gt;</code> : Adjacency list of vertices with weights of type EdgeData, often used to represent the set of incoming and outgoing edges of vertices and containing two member variables:</li>
<li><code>AdjUnit&lt;t&gt; \* begin</code> : indicates the start pointer of the list</li>
<li><code>AdjUnit&lt;t&gt; \* end</code> : The end pointer of the list. begin and end are similar to the begin and end Pointers of a vector. You can use these Pointers to loop through the adjacency list.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="7graph-class-olapbase">7.Graph class OlapBase<a href="#7graph-class-olapbase" class="hash-link" aria-label="7.Graph class OlapBase的直接链接" title="7.Graph class OlapBase的直接链接">​</a></h2>
<p>Graph class OlapBase is the main class for TuGraph to load graphs and calculate graphs. OlapBase is commonly used to represent graphs with weights of type EdgeData. See olap_base.hpp under lgraph folder for the code. This chapter covers the types and API interfaces commonly used in Graph classes. The classes used by the Procedure, Embed, and Standalone functions described above are all subclasses of this class.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="71basic-information">7.1.Basic Information<a href="#71basic-information" class="hash-link" aria-label="7.1.Basic Information的直接链接" title="7.1.Basic Information的直接链接">​</a></h3>
<ul>
<li>
<p><code>size_t NumVertices()</code> : obtains the number of vertices</p>
</li>
<li>
<p><code>size_t NumEdges()</code> : Gets the number of edges</p>
</li>
<li>
<p><code>size_t OutDegree(size_t vid)</code> : indicates the outdegree of the vid of the vertex</p>
</li>
<li>
<p><code>size_t InDegree(size_t vid)</code> : indicates the input degree of vertex vid</p>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="72node-sets-and-edge-sets-and-their-related-operations">7.2.node sets and edge sets and their related operations<a href="#72node-sets-and-edge-sets-and-their-related-operations" class="hash-link" aria-label="7.2.node sets and edge sets and their related operations的直接链接" title="7.2.node sets and edge sets and their related operations的直接链接">​</a></h3>
<ul>
<li>
<p><code>ParallelVector AllocVertexArray()</code> : Allocates an array of type VertexData with size as the number of vertices</p>
</li>
<li>
<p><code>void fill_vertex_array(V \* array, V value)</code> : assigns values to all elements in the array</p>
</li>
<li>
<p><code>ParallelBitset AllocVertexSubset()</code> : Assigns a subset of ParallelBitsets to denote whether the state of all vertices is activated</p>
</li>
<li>
<p><code>AdjList OutEdges(size_t vid)&#x27;</code>: gets the set of all outgoing edges of vertex v</p>
</li>
<li>
<p><code>AdjList InEdges(size_t vid)</code> : Obtains the set of all incoming edges of vertex v</p>
</li>
<li>
<p><code>void Transpose()</code> : transpose of a directed graph</p>
</li>
<li>
<p><code>LoadFromArray(char \* edge_array, VertexId input_vertices, EdgeId input_edges, EdgeDirectionPolicy (edge_direction_policy) </code>: Loads the graph data from the array, contains four parameters, the meaning of which are respectively:</p>
</li>
</ul>
<p><code>edge_array</code> : reads the data from the array into the graph. Normally, the array contains multiple edges.</p>
<p><code>input_vertices</code>: specifies the number of vertices read into the graph by the array.</p>
<p><code>input_edges</code> : specifies the number of edges that the array reads into the image.</p>
<p><code>edge_direction_policy</code> : indicates that the graph is directed or undirected. The graph can be divided into three modes: DUAL_DIRECTION, MAKE_SYMMETRIC, and INPUT_SYMMETRIC. For details, see &#x27;enum EdgeDirectionPolicy&#x27; in the config.h file in the core folder.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="73locking-mechanism">7.3.Locking mechanism<a href="#73locking-mechanism" class="hash-link" aria-label="7.3.Locking mechanism的直接链接" title="7.3.Locking mechanism的直接链接">​</a></h3>
<p>TuGraph implements a pair of locks to control the program&#x27;s access to vertex data. Respectively is:</p>
<ul>
<li><code>void AcquireVertexLock(size_t vid)</code> : locks a vertex vid and prohibits other threads from accessing the vertex data corresponding to this lock</li>
<li><code>void ReleaseVertexLock(size_t vid)</code> : unlocks the vertex vid and all threads can access the vertex data corresponding to the lock</li>
<li><code>VertexLockGuard GuardVertexLock(size_t vid)</code> : When the vid operation is performed, the vertex vid is locked, and the lock is automatically released upon exiting the scope</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="74batch-processing-operations">7.4.Batch Processing Operations<a href="#74batch-processing-operations" class="hash-link" aria-label="7.4.Batch Processing Operations的直接链接" title="7.4.Batch Processing Operations的直接链接">​</a></h3>
<p>TuGraph provides two batch operations to do a point-centered batch process in parallel. Respectively is:</p>
<div class="language-c++ codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c++ codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Function Name:ReducedSum ProcessVertexInRange(std::function&lt;ReducedSum(size_t)&gt; work, size_t lower, size_t upper,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                ReducedSum zero = 0,std::function&lt;ReducedSum(ReducedSum, ReducedSum)&gt; reduce =reduce_plus&lt;ReducedSum&gt;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    The work function executes the work function on nodes whose numbers are between lower and upper in the Graph. The fourth parameter indicates the accumulated base, which defaults to 0.The fifth parameter indicates that the iteration reduce function operation is performed on the return value of each node processed by work, and the default operation is the accumulation operation.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">For details, please refer to include/lgraph/olap_base.h</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Example: Count the number of vertices in the parent array that have outgoing edges</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">*/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">auto vertex_num = graph.ProcessVertexInRange&lt;size_t&gt;(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [&amp;](size_t i) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (graph.OutDegree(parent[i]) &gt; 0) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            return 1;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    0, parent.Size()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">printf(&quot;the number is %lu\n&quot;,vertex_num);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>graph is the instantiated object of graph class OlapBase</p>
<div class="language-C++ language-c++ codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c++ codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Function Name:ReducedSum ProcessVertexActive(std::function&lt;ReducedSum(size_t)&gt; work, ParallelBitset &amp;active_vertices,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                ReducedSum zero = 0,std::function&lt;ReducedSum(ReducedSum, ReducedSum)&gt; reduce =reduce_plus&lt;ReducedSum&gt;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Function: Execute the work function for the node that corresponds to 1 in active_vertices. The third parameter represents the cumulative cardinality, which is 0 by default.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    The fourth parameter indicates that the iteration reduce function operation is performed on the return value of each node processed by work, and the default operation is the accumulation operation.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    For specific implementation, please refer to the specific code in /include/lgraph/olap_base</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Example: Output all the out-degree neighbors of nodes 1, 2, and 3 in the Graph, and count the total out-degree of these three nodes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">*/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">auto active_in = graph.AllocVertexSubset();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">active_in.Add(1);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">active_in.Add(2);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">active_in.Add(3);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">auto total_outdegree = graph.ProcessVertexActive&lt;size_t&gt;(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [&amp;](size_t vi) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        size_t local_outdegree = 0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        for (auto &amp; edge : graph.OutEdges(vi)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            size_t dst = edge.neighbour;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            printf(&quot;node %lu has neighbour %lu\n&quot;,vi,dst);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            local_outdegree += 1;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return local_outdegree;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    active_in</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">printf(&quot;total outdegree of node1,2,3 is %lu\n&quot;,total_outdegree);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文件选项卡"><a class="pagination-nav__link pagination-nav__link--prev" href="/tugraph-db/en/3.6.0/developer-manual/interface/olap/tutorial"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">Bootstrap program</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/tugraph-db/en/3.6.0/developer-manual/interface/olap/olap-on-db-api"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">OlapOnDB API</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#1the-overview" class="table-of-contents__link toc-highlight">1.The overview</a></li><li><a href="#2configuration-requirements" class="table-of-contents__link toc-highlight">2.Configuration requirements</a></li><li><a href="#3atomic-operations" class="table-of-contents__link toc-highlight">3.Atomic operations</a></li><li><a href="#4vertex-class-parallelbitset" class="table-of-contents__link toc-highlight">4.Vertex Class ParallelBitset</a><ul><li><a href="#41parallelbitset-class" class="table-of-contents__link toc-highlight">4.1ParallelBitset Class</a></li></ul></li><li><a href="#5vertex-array-class-parallelvector" class="table-of-contents__link toc-highlight">5.Vertex Array Class ParallelVector</a><ul><li><a href="#51parallelvector-class" class="table-of-contents__link toc-highlight">5.1.ParallelVector Class</a></li></ul></li><li><a href="#6customize-data-structures" class="table-of-contents__link toc-highlight">6.Customize data structures</a><ul><li><a href="#61basic-data-types" class="table-of-contents__link toc-highlight">6.1.Basic data types</a></li><li><a href="#62combining-data-structures" class="table-of-contents__link toc-highlight">6.2.Combining data structures</a></li></ul></li><li><a href="#7graph-class-olapbase" class="table-of-contents__link toc-highlight">7.Graph class OlapBase</a><ul><li><a href="#71basic-information" class="table-of-contents__link toc-highlight">7.1.Basic Information</a></li><li><a href="#72node-sets-and-edge-sets-and-their-related-operations" class="table-of-contents__link toc-highlight">7.2.node sets and edge sets and their related operations</a></li><li><a href="#73locking-mechanism" class="table-of-contents__link toc-highlight">7.3.Locking mechanism</a></li><li><a href="#74batch-processing-operations" class="table-of-contents__link toc-highlight">7.4.Batch Processing Operations</a></li></ul></li></ul></div></div></div></div></main></div></div></div></div>
</body>
</html>