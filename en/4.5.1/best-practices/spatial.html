<!doctype html>
<html lang="zh-CN" dir="ltr" class="docs-wrapper plugin-docs plugin-id-4-5-1_en docs-version-current docs-doc-page docs-doc-id-best-practices/spatial" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.5.2">
<title data-rh="true">Examples of geospatial data type usage | TuGraph 文档中心</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://tugraph.tech/tugraph-db/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://tugraph.tech/tugraph-db/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://tugraph.tech/tugraph-db/en/4.5.1/best-practices/spatial"><meta data-rh="true" property="og:locale" content="zh_CN"><meta data-rh="true" property="og:locale:alternate" content="en_US"><meta data-rh="true" name="docusaurus_locale" content="zh-CN"><meta data-rh="true" name="docsearch:language" content="zh-CN"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-4-5-1_en-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-4-5-1_en-current"><meta data-rh="true" property="og:title" content="Examples of geospatial data type usage | TuGraph 文档中心"><meta data-rh="true" name="description" content="1. Introduction"><meta data-rh="true" property="og:description" content="1. Introduction"><link data-rh="true" rel="icon" href="https://mdn.alipayobjects.com/huamei_qcdryc/afts/img/A*AbamQ5lxv0IAAAAAAAAAAAAADgOBAQ/original"><link data-rh="true" rel="canonical" href="https://tugraph.tech/tugraph-db/en/4.5.1/best-practices/spatial"><link data-rh="true" rel="alternate" href="https://tugraph.tech/tugraph-db/en/4.5.1/best-practices/spatial" hreflang="zh-CN"><link data-rh="true" rel="alternate" href="https://tugraph.tech/tugraph-db/en-US/en/4.5.1/best-practices/spatial" hreflang="en-US"><link data-rh="true" rel="alternate" href="https://tugraph.tech/tugraph-db/en/4.5.1/best-practices/spatial" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://DGYVABHR0M-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="TuGraph 文档中心" href="/tugraph-db/opensearch.xml">

















<meta name="algolia-site-verification" content="FC204AA054194DE3"><link rel="stylesheet" href="/tugraph-db/assets/css/styles.ce6a6631.css">
<script src="/tugraph-db/assets/js/runtime~main.349d6fd9.js" defer="defer"></script>
<script src="/tugraph-db/assets/js/main.27a83fc4.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="跳到主要内容"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">跳到主要内容</a></div><nav aria-label="主导航" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="切换导航栏" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/tugraph-db/"><div class="navbar__logo"><img src="https://mdn.alipayobjects.com/huamei_qcdryc/afts/img/A*AbamQ5lxv0IAAAAAAAAAAAAADgOBAQ/original" alt="Tugraph Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="https://mdn.alipayobjects.com/huamei_qcdryc/afts/img/A*AbamQ5lxv0IAAAAAAAAAAAAADgOBAQ/original" alt="Tugraph Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/TuGraph-family/tugraph-db" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="切换浅色/暗黑模式（当前为浅色模式）" aria-label="切换浅色/暗黑模式（当前为浅色模式）" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="搜索 (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">搜索</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="docsearch-wrapper" style="display:flex;justify-content:center;flex-direction:column"><div style="display:flex;justify-content:space-between;margin-bottom:8px"><div class="itemWrapper"><div class="titleBlock"><span class="titleText">TuGraph DB</span><div class="downIcon"></div></div><div class="contentArea"><span id="engineDescription">Community</span><span class="versionLabel">V<!-- -->4.5.1</span></div></div><div class="searchWrapper"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div><div class="sidebar_njMd"><nav aria-label="文档侧边栏" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/tugraph-db/en/4.5.1/guide">Guide</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/tugraph-db/en/4.5.1/introduction/what-is-graph">introduction</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/tugraph-db/en/4.5.1/quick-start/preparation">quick-start</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/tugraph-db/en/4.5.1/user-guide/tugraph-browser">user-guide</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/tugraph-db/en/4.5.1/installation&amp;running/environment">installation&amp;running</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/tugraph-db/en/4.5.1/utility-tools/data-import">utility-tools</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/tugraph-db/en/4.5.1/client-tools/python-client">client-tools</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/tugraph-db/en/4.5.1/query/cypher">query</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/tugraph-db/en/4.5.1/olap&amp;procedure/procedure">olap&amp;procedure</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/tugraph-db/en/4.5.1/permission/privilege">permission</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/tugraph-db/en/4.5.1/quality/unit-testing">quality</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/tugraph-db/en/4.5.1/contributor-manual/contributing">contributor-manual</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/tugraph-db/en/4.5.1/best-practices/rdbms-to-tugraph">best-practices</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/tugraph-db/en/4.5.1/best-practices/rdbms-to-tugraph">Importing Data from Relational Databases to TuGraph</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/tugraph-db/en/4.5.1/best-practices/learn_practices">Using TuGraph Graph Learning Module for Node Classification</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/tugraph-db/en/4.5.1/best-practices/data_migration">Data Migration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/tugraph-db/en/4.5.1/best-practices/selection">Environment and version selection</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/tugraph-db/en/4.5.1/best-practices/spatial">Examples of geospatial data type usage</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/tugraph-db/en/4.5.1/faq">FAQ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/tugraph-db/en/4.5.1/contacts">Contacts</a></li></ul></nav></div></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="页面路径"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="主页面" class="breadcrumbs__link" href="/tugraph-db/en/4.5.1/guide"><div style="color:#1a1b2572">Docs</div></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">best-practices</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Examples of geospatial data type usage</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">本页总览</button></div><div class="theme-doc-markdown markdown"><header><h1>Examples of geospatial data type usage</h1></header>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="1-introduction">1. Introduction<a href="#1-introduction" class="hash-link" aria-label="1. Introduction的直接链接" title="1. Introduction的直接链接">​</a></h2>
<p>TuGraph, a graph database jointly developed by Ant Group and Tsinghua University, has built a comprehensive graph technology system that includes graph storage, graph calculation, graph learning, and a graph development platform, owning a leading-scale graph cluster in the industry.  In recent years, geospatial capabilities have demonstrated significant application value in graph databases. They not only enhance the expressive power of data but also facilitate the fusion analysis of cross-domain data, especially displaying strong practical value in critical fields such as social networks, map exploration, and urban planning. TuGraph is also gradually supporting geospatial capabilities.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="2-background-knowledge">2. Background Knowledge<a href="#2-background-knowledge" class="hash-link" aria-label="2. Background Knowledge的直接链接" title="2. Background Knowledge的直接链接">​</a></h2>
<p>EPSG(<a href="https://epsg.io/" target="_blank" rel="noopener noreferrer">EPSG.io: Coordinate Systems Worldwide</a>) is a standardized collection of geospatial reference system identifiers, used to identify different geospatial reference systems, including coordinate systems, geographic coordinate systems, projected coordinate systems, etc. We commonly use EPSG codes to represent the coordinate systems of data, and here we introduce two of the most common geospatial coordinate systems, which are also the types supported by most databases.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="21-wgs84-coordinate-system-epsg4326">2.1 WGS84 Coordinate System (EPSG:4326)<a href="#21-wgs84-coordinate-system-epsg4326" class="hash-link" aria-label="2.1 WGS84 Coordinate System (EPSG:4326)的直接链接" title="2.1 WGS84 Coordinate System (EPSG:4326)的直接链接">​</a></h3>
<p>Global Positioning System: WGS84 is the foundation of the Global Positioning System (GPS), allowing GPS receivers around the world to determine precise positions. Almost all modern GPS devices provide location information based on the WGS84 coordinate system. Map Making and Geographic Information Systems (GIS): In the field of map making and GIS, WGS84 is widely used to define positions on Earth. This includes various types of map creation, spatial data analysis, and management, etc. <img decoding="async" loading="lazy" alt="image.png" src="/tugraph-db/assets/images/EPSG_4326-ebcf508237a6a659deda1c1c05da731b.png" width="821" height="390" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="22-cartesian-coordinate-system-epsg7203">2.2 Cartesian Coordinate System (EPSG:7203)<a href="#22-cartesian-coordinate-system-epsg7203" class="hash-link" aria-label="2.2 Cartesian Coordinate System (EPSG:7203)的直接链接" title="2.2 Cartesian Coordinate System (EPSG:7203)的直接链接">​</a></h3>
<p>The Cartesian coordinate system, also known as the rectilinear or orthogonal coordinate system, is the most basic and widely applied coordinate system. It defines a plane with two axes and a space with three axes that are perpendicular to each other, extensively applied in mathematics, physics, engineering, astronomy, and many other fields. <img decoding="async" loading="lazy" alt="image.png" src="/tugraph-db/assets/images/EPSG_7203-813d52c83637ec9bff32110935eb851d.png" width="560" height="560" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="23-data-storage-formats">2.3 Data Storage Formats<a href="#23-data-storage-formats" class="hash-link" aria-label="2.3 Data Storage Formats的直接链接" title="2.3 Data Storage Formats的直接链接">​</a></h3>
<p>OGC (Open Geospatial Consortium) has defined standard representation formats for spatial data, namely WKT and WKB formats, for exchanging and storing spatial data between different systems and platforms, which have now been widely adopted. WKT (Well-Known Text) format is a text markup language that is easy to read and write for humans, while WKB (Well-Known Binary) format uses a series of bytes to encode spatial data, which is more suitable for storage in computers.</p>
<p><strong>WKT:</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">POINT(&lt;x&gt; &lt;y&gt;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">LINESTRING(&lt;x1&gt; &lt;y1&gt;, &lt;x2&gt;&lt;y2&gt;, ...)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The WKT format data is as shown above, first specifying the spatial data type, then specifying the coordinates in parentheses, with a pair of coordinates representing a point, separated by commas between each coordinate pair. For Polygon type data, the first coordinate pair needs to be the same as the last coordinate pair to form a closed surface.</p>
<p><strong>WKB:</strong></p>
<p><img decoding="async" loading="lazy" alt="image.png" src="/tugraph-db/assets/images/WKB-fe5482c2e6681a0467a03cbf55761578.png" width="858" height="264" class="img_ev3q"></p>
<p>The encoding for the EWKB format is explained as follows:</p>
<ul>
<li>Positions 0 - 1: Encoding method;</li>
<li>Positions 2 - 5: Spatial data type;
<ul>
<li>0100: point</li>
<li>0200: linestring</li>
<li>0300: polygon</li>
</ul>
</li>
<li>Positions 6 - 9: Data dimension;
<ul>
<li>0020: two-dimensional</li>
<li>0030: three-dimensional</li>
</ul>
</li>
<li>Positions 10 - 17: EPSG code of the coordinate system;</li>
<li>Positions 18 - n: 16-bit hex representation of pairs of double-type coordinates.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="24-common-functions">2.4 Common functions<a href="#24-common-functions" class="hash-link" aria-label="2.4 Common functions的直接链接" title="2.4 Common functions的直接链接">​</a></h3>






























<table><thead><tr><th>Name</th><th>Description</th><th>Signature</th></tr></thead><tbody><tr><td><code>dbms.graph.createGraph</code></td><td>create a subgraph</td><td><code>dbms.graph.createGraph(graph_name::STRING, description::STRING, max_size_GB::INTEGER) :: (::VOID)</code></td></tr><tr><td><code>db.createVertexLabel</code></td><td>create a vertex label</td><td><code>db.createVertexLabel(label_name::STRING,field_specs::LIST) :: (::VOID)</code></td></tr><tr><td><code>db.getLabelSchema</code></td><td>get the schema of label</td><td><code>db.getLabelSchema(label_type::STRING,label_name::STRING) :: (name::STRING,type::STRING,optional::BOOLEAN)</code></td></tr><tr><td><code>db.deleteLabel</code></td><td>delete vertex label</td><td><code>db.deleteLabel(label_type::STRING,label_name::STRING) :: (::VOID)</code></td></tr></tbody></table>
<p>更完整详细的函数使用以及插入数据的语句，可以参考 <a href="/tugraph-db/en/4.5.1/query/cypher">Cypher API</a></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="3-data-types">3. Data Types<a href="#3-data-types" class="hash-link" aria-label="3. Data Types的直接链接" title="3. Data Types的直接链接">​</a></h2>
<p>Currently, in TuGraph, we support three types of spatial data: Point, Linestring, and Polygon.</p>
<ul>
<li>Point: POINT(2.0, 2.0, 7203)</li>
<li>Linestring: LINESTRING(0 2,1 1,2 0)</li>
<li>Polygon: POLYGON((0 0,0 7,4 2,2 0,0 0))</li>
</ul>
<p>Coordinates are of double type. Examples for creating graph models and inserting data as follows:</p>
<p><strong>Create a vertex to mark food locations</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">CALL db.createVertexLabel(&#x27;food&#x27;, &#x27;id&#x27;, &#x27;id&#x27;, int64, false, &#x27;name&#x27;, string, true,&#x27;pointTest&#x27;,point,true) </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img decoding="async" loading="lazy" alt="image.png" src="/tugraph-db/assets/images/createVertexLabel-6b5834819d1f4d20958b9ba6f13ebbde.png" width="932" height="322" class="img_ev3q"></p>
<p><strong>Insert data to mark food points</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> CREATE (n:food {id:10001, name: &#x27;aco Bell&#x27;,pointTest:point(3.0,4.0,7203)}) RETURN n</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img decoding="async" loading="lazy" alt="image.png" src="/tugraph-db/assets/images/createFoodData-42a1476e438f5b07b017a493510a074f.png" width="1112" height="706" class="img_ev3q"></p>
<p><strong>Create a vertex with polyline attributes</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">CALL db.createVertexLabel(&#x27;lineTest&#x27;, &#x27;id&#x27;, &#x27;id&#x27;, int64, false, &#x27;name&#x27;, string, true,&#x27;linestringTest&#x27;,linestring,true)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img decoding="async" loading="lazy" alt="image.png" src="/tugraph-db/assets/images/createVertexLabel_lineTest-b37d40db2f4c254af64535f30a2842c5.png" width="953" height="432" class="img_ev3q"></p>
<p><strong>Insert data for vertex with linestring attributes</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">CREATE (n:lineTest {id:102, name: &#x27;Tom&#x27;,linestringTest:linestringwkt(&#x27;LINESTRING(0 2,1 1,2 0)&#x27;, 7203)}) RETURN n</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img decoding="async" loading="lazy" alt="image.png" src="/tugraph-db/assets/images/createLineTestData-d6b3f97eeae6bc43b1db36b3ac1536d4.png" width="1777" height="854" class="img_ev3q"></p>
<p><strong>Create a vertex with polygon attributes</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">CALL db.createVertexLabel(&#x27;polygonTest&#x27;, &#x27;id&#x27;, &#x27;id&#x27;, int64, false, &#x27;name&#x27;, string, true,&#x27;polygonTest&#x27;,polygon,true)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img decoding="async" loading="lazy" alt="image.png" src="/tugraph-db/assets/images/createVertexLabel_PolygonTest-6c36f0248cb4843d13546b71df5b0eb1.png" width="922" height="389" class="img_ev3q"></p>
<p><strong>Inser data for vertex with polygon attributes</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">CREATE (n:polygonTest {id:103, name: &#x27;polygonTest&#x27;,polygonTest:polygonwkt(&#x27;POLYGON((0 0,0 7,4 2,2 0,0 0))&#x27;, 7203)}) RETURN n</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="4-function-introduction">4. Function Introduction<a href="#4-function-introduction" class="hash-link" aria-label="4. Function Introduction的直接链接" title="4. Function Introduction的直接链接">​</a></h2>





























<table><thead><tr><th>Function Name</th><th>Description</th><th>Input Parameters</th><th>Return Type</th></tr></thead><tbody><tr><td>Distance()</td><td>Calculate the distance between two spatial data (requires the same coordinate system)</td><td>Spatial data1, Spatial data2</td><td>double</td></tr><tr><td>Disjoint()</td><td>Determine whether two spatial data intersect (under development)</td><td>Spatial data1, Spatial data2</td><td>bool</td></tr><tr><td>WithinBBox()</td><td>Determine whether a spatial data is within a given rectangular area (under development)</td><td>Spatial data, Point1</td><td>bool</td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="5-food-exploration">5. Food Exploration<a href="#5-food-exploration" class="hash-link" aria-label="5. Food Exploration的直接链接" title="5. Food Exploration的直接链接">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="51-personalized-recommendations-based-on-geographic-location">5.1 Personalized Recommendations Based on Geographic Location<a href="#51-personalized-recommendations-based-on-geographic-location" class="hash-link" aria-label="5.1 Personalized Recommendations Based on Geographic Location的直接链接" title="5.1 Personalized Recommendations Based on Geographic Location的直接链接">​</a></h3>
<p>In this section, we will explore how to use the TuGraph graph database&#x27;s geospatial capabilities to create a vivid and interesting food exploration application that connects &quot;people&quot; and &quot;food&quot; through geographical locations to achieve personalized food recommendations. Imagine, no matter where you are, with just a gentle tap, the tempting food around you is at a glance – this is precisely the charm of the scene we&#x27;re about to build.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="52-data-model-design">5.2 Data Model Design<a href="#52-data-model-design" class="hash-link" aria-label="5.2 Data Model Design的直接链接" title="5.2 Data Model Design的直接链接">​</a></h3>
<p>We first define two core types of vertex:：</p>
<ul>
<li>Food vertex: Each restaurant or snack shop can serve as a Food node, with attributes that include but are not limited to the name, address, rating, food category, etc. Notably, we will attach geographic coordinate information to every Food node to record its precise location accurately.</li>
</ul>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> CALL db.createVertexLabel(&#x27;food&#x27;, &#x27;id&#x27;, &#x27;id&#x27;, int64, false, &#x27;name&#x27;, string, true,&#x27;pointTest&#x27;,point,true,&#x27;mark&#x27;,double,true)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Prepare data:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">CREATE (n:food {id:10001, name: &#x27;Starbucks&#x27;,pointTest:point(1.0,1.0,7203),mark:4.8}) RETURN n</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CREATE (n:food {id:10002, name: &#x27;KFC&#x27;,pointTest:point(2.0,1.0,7203),mark:4.5}) RETURN n</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CREATE (n:food {id:10003, name: &#x27;Pizza Hut&#x27;,pointTest:point(2.0,5.0,7203),mark:4.5}) RETURN n</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CREATE (n:food {id:10004, name: &#x27;Taco Bell&#x27;,pointTest:point(3.0,4.0,7203),mark:4.7}) RETURN n</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CREATE (n:food {id:10005, name: &#x27;Pizza Fusion&#x27;,pointTest:point(5.0,3.0,7203),mark:4.9}) RETURN n</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CREATE (n:food {id:10006, name: &#x27;HaiDiLao Hot Pot&#x27;,pointTest:point(2.0,2.0,7203),mark:4.8}) RETURN n</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CREATE (n:food {id:10007, name: &#x27;Lao Sze Chuan&#x27;,pointTest:point(4.0,3.0,7203),mark:4.7}) RETURN n</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>Person vertex: Represents the user of the application, with attributes including username, current location, etc. The user&#x27;s current location is also represented by geographic coordinates, facilitating subsequent geospatial queries.</li>
</ul>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> CALL db.createVertexLabel(&#x27;person&#x27;, &#x27;id&#x27;, &#x27;id&#x27;, int64, false, &#x27;name&#x27;, string, true,&#x27;pointTest&#x27;,point,true)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Prepare data:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> CREATE (n:person {id:1, name: &#x27;Tom&#x27;,pointTest:point(3.0,3.0,7203)}) RETURN n</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="53-building-the-food-exploration-query">5.3 Building the Food Exploration Query<a href="#53-building-the-food-exploration-query" class="hash-link" aria-label="5.3 Building the Food Exploration Query的直接链接" title="5.3 Building the Food Exploration Query的直接链接">​</a></h3>
<p>The ability to find food within a distance of 2.5 based on the user&#x27;s current location, and sort by distance in ascending order allows users to have a better experience by seeing the distance and rating.</p>
<p><strong>Query Statement</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">match (n:person{id:1}),(m:food) with n.pointTest as p1,m.pointTest as p2,m.name as food,m.mark as mark</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CALL spatial.distance(p1,p2) YIELD distance </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">WHERE distance&lt;2.5</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">RETURN food,distance,mark ORDER by distance</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img decoding="async" loading="lazy" alt="image.png" src="/tugraph-db/assets/images/querryFood-bd53767c9a6b584a1ba73dae4f429efb.png" width="1786" height="821" class="img_ev3q"></p>
<p>This query first matches a specific Person node (taking the user &quot;Tom&quot; as an example) and then finds all Food nodes. Using the custom distance function, the query calculates the straight-line distance between the current location of the Person node and each Food node, filtering out food within a distance of 2.5. Finally, the results are sorted by distance in ascending order, and the rating is provided as a reference to offer users the best possible recommendations.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="6-outlook">6. Outlook<a href="#6-outlook" class="hash-link" aria-label="6. Outlook的直接链接" title="6. Outlook的直接链接">​</a></h2>
<p>The aforementioned sections not only showcase TuGraph&#x27;s capabilities in handling geospatial data but also depict an attractive food exploration scenario, proving the great potential of graph databases in providing personalized services that combine geographic location information. Whether it&#x27;s finding a relaxing spot for the weekend or exploring unique cuisines during travel, such applications are set to greatly enrich people&#x27;s life experiences.
TuGraph will continue to implement Disjoint() and WithinBBox() functions, enriching more use cases. Of course, everyone is welcome to participate and collaborate in developing geospatial functionalities.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文件选项卡"><a class="pagination-nav__link pagination-nav__link--prev" href="/tugraph-db/en/4.5.1/best-practices/selection"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">Environment and version selection</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/tugraph-db/en/4.5.1/faq"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">FAQ</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#1-introduction" class="table-of-contents__link toc-highlight">1. Introduction</a></li><li><a href="#2-background-knowledge" class="table-of-contents__link toc-highlight">2. Background Knowledge</a><ul><li><a href="#21-wgs84-coordinate-system-epsg4326" class="table-of-contents__link toc-highlight">2.1 WGS84 Coordinate System (EPSG:4326)</a></li><li><a href="#22-cartesian-coordinate-system-epsg7203" class="table-of-contents__link toc-highlight">2.2 Cartesian Coordinate System (EPSG:7203)</a></li><li><a href="#23-data-storage-formats" class="table-of-contents__link toc-highlight">2.3 Data Storage Formats</a></li><li><a href="#24-common-functions" class="table-of-contents__link toc-highlight">2.4 Common functions</a></li></ul></li><li><a href="#3-data-types" class="table-of-contents__link toc-highlight">3. Data Types</a></li><li><a href="#4-function-introduction" class="table-of-contents__link toc-highlight">4. Function Introduction</a></li><li><a href="#5-food-exploration" class="table-of-contents__link toc-highlight">5. Food Exploration</a><ul><li><a href="#51-personalized-recommendations-based-on-geographic-location" class="table-of-contents__link toc-highlight">5.1 Personalized Recommendations Based on Geographic Location</a></li><li><a href="#52-data-model-design" class="table-of-contents__link toc-highlight">5.2 Data Model Design</a></li><li><a href="#53-building-the-food-exploration-query" class="table-of-contents__link toc-highlight">5.3 Building the Food Exploration Query</a></li></ul></li><li><a href="#6-outlook" class="table-of-contents__link toc-highlight">6. Outlook</a></li></ul></div></div></div></div></main></div></div></div></div>
</body>
</html>