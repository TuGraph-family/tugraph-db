"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[78249],{22292:(e,o,n)=>{n.r(o),n.d(o,{assets:()=>a,contentTitle:()=>s,default:()=>h,frontMatter:()=>t,metadata:()=>i,toc:()=>d});var r=n(74848),l=n(28453);const t={},s="Log",i={id:"developer-manual/ecosystem-tools/log",title:"Log",description:"This document mainly introduces the logging function of TuGraph.",source:"@site/versions/version-4.1.0/en-US/source/5.developer-manual/5.ecosystem-tools/4.log.md",sourceDirName:"5.developer-manual/5.ecosystem-tools",slug:"/developer-manual/ecosystem-tools/log",permalink:"/tugraph-db/en/4.1.0/developer-manual/ecosystem-tools/log",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:4,frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"TuGraph Explorer",permalink:"/tugraph-db/en/4.1.0/developer-manual/ecosystem-tools/tugraph-explorer"},next:{title:"Cypher API",permalink:"/tugraph-db/en/4.1.0/developer-manual/interface/query/cypher"}},a={},d=[{value:"1.Introduction",id:"1introduction",level:2},{value:"2.Server log",id:"2server-log",level:2},{value:"2.1.Server Log Configuration Items",id:"21server-log-configuration-items",level:3},{value:"2.3.Example of Server Log Output Macro Usage",id:"23example-of-server-log-output-macro-usage",level:3},{value:"3.Audit log",id:"3audit-log",level:2}];function c(e){const o={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,l.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.header,{children:(0,r.jsx)(o.h1,{id:"log",children:"Log"})}),"\n",(0,r.jsxs)(o.blockquote,{children:["\n",(0,r.jsx)(o.p,{children:"This document mainly introduces the logging function of TuGraph."}),"\n"]}),"\n",(0,r.jsx)(o.h2,{id:"1introduction",children:"1.Introduction"}),"\n",(0,r.jsx)(o.p,{children:"TuGraph keeps two types of logs: server logs and audit logs. Server logs record human-readable server status information, while audit logs maintain encrypted information for every operation performed on the server."}),"\n",(0,r.jsx)(o.h2,{id:"2server-log",children:"2.Server log"}),"\n",(0,r.jsx)(o.h3,{id:"21server-log-configuration-items",children:"2.1.Server Log Configuration Items"}),"\n",(0,r.jsxs)(o.p,{children:["The output directory of server logs can be specified through the ",(0,r.jsx)(o.code,{children:"log_dir"})," configuration item. The level of log can be specified through the ",(0,r.jsx)(o.code,{children:"verbose"})," configuration item."]}),"\n",(0,r.jsxs)(o.p,{children:["The ",(0,r.jsx)(o.code,{children:"log_dir"})," configuration item is empty by default. If ",(0,r.jsx)(o.code,{children:"log_dir"})," is empty, then all logs will be write to the console, the maximum size of a single log file is 256MB."]}),"\n",(0,r.jsxs)(o.p,{children:["The ",(0,r.jsx)(o.code,{children:"verbose"})," configuration item controls the level of log, and is divided into three levels of ",(0,r.jsx)(o.code,{children:"0, 1, 2"}),". Ther verbosity of log record grows as the number grows. The default level is ",(0,r.jsx)(o.code,{children:"1"}),". When the level is set to ",(0,r.jsx)(o.code,{children:"2"}),", the server will print logs in ",(0,r.jsx)(o.code,{children:"DEBUG"})," level and above. When the level is set to ",(0,r.jsx)(o.code,{children:"1"}),", the server will print logs in ",(0,r.jsx)(o.code,{children:"INFO"})," level and above. When the level is set to ",(0,r.jsx)(o.code,{children:"0"}),", the server will print log in ",(0,r.jsx)(o.code,{children:"ERROR"})," level and above."]}),"\n",(0,r.jsx)(o.h3,{id:"23example-of-server-log-output-macro-usage",children:"2.3.Example of Server Log Output Macro Usage"}),"\n",(0,r.jsx)(o.p,{children:"If the developer wants to add logs to the code during development, they can refer to the following example:"}),"\n",(0,r.jsx)(o.pre,{children:(0,r.jsx)(o.code,{children:'#include "tools/lgraph_log.h" // add log dependency.\n\nvoid LogExample() {\n    // The log module has been initialized during the database startup, and developers can directly call the macro.\n    // The log level is divided into five levels: DEBUG, INFO, WARNING, ERROR, and FATAL.\n\n    LOG_DEBUG() << "This is a debug level log message.";\n    LOG_INFO() << "This is a info level log message.";\n    LOG_WARN() << "This is a warning level log message.";\n    LOG_ERROR() << "This is a error level log message.";\n    LOG_FATAL() << "This is a fatal level log message.";\n}\n'})}),"\n",(0,r.jsx)(o.p,{children:"You can also refer to the log macro usage in test/test_lgraph_log.cpp."}),"\n",(0,r.jsx)(o.h2,{id:"3audit-log",children:"3.Audit log"}),"\n",(0,r.jsx)(o.p,{children:"Audit logs record each request and response, as well as the user who sent the request and when the request received. Audit logging can only be turned on or off. The results can be queried using the TuGraph visualization tool and the REST API."})]})}function h(e={}){const{wrapper:o}={...(0,l.R)(),...e.components};return o?(0,r.jsx)(o,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},28453:(e,o,n)=>{n.d(o,{R:()=>s,x:()=>i});var r=n(96540);const l={},t=r.createContext(l);function s(e){const o=r.useContext(t);return r.useMemo((function(){return"function"==typeof e?e(o):{...o,...e}}),[o,e])}function i(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:s(e.components),r.createElement(t.Provider,{value:o},e.children)}}}]);