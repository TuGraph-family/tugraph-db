<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../../../../img/favicon.ico" />
    <title>教程 - TuGraph Documentation</title>
    <link rel="stylesheet" href="../../../../css/theme.css" />
    <link rel="stylesheet" href="../../../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "\u6559\u7a0b";
        var mkdocs_page_input_path = "zh-CN\\3.developer-document\\4.graph_analytics_engine\\1.tutorial.md";
        var mkdocs_page_url = null;
      </script>
    
    <script src="../../../../js/jquery-3.6.0.min.js" defer></script>
    <!--[if lt IE 9]>
      <script src="../../../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
      <script>hljs.initHighlightingOnLoad();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../../../.." class="icon icon-home"> TuGraph Documentation
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../../..">Home</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">en-US</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="#">Guide</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../../../en-US/1.guide/1.what-is-graph/">What is Graph</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../../en-US/1.guide/2.what-is-GDBMS/">What is GDBMS</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../../en-US/1.guide/3.quick-start/">Quick Start</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="#">Operating</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../../../en-US/2.operating/1.introduce/">Introduction</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../../en-US/2.operating/2.Install/">Install</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../../en-US/2.operating/3.data-import/">Data Import</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../../en-US/2.operating/4.server-config/">Server Config</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../../en-US/2.operating/5.operation/">Operation</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../../en-US/2.operating/7.ha-mode/">HA Mode</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../../en-US/2.operating/8.manage-database/">Manage Database</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../../en-US/2.operating/9.privilege/">Privilege</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="#">Tools</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" href="../../../../en-US/2.operating/6.tools/1.tugraph-cypher/">TuGraph Cypher</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../../../en-US/2.operating/6.tools/2.tugraph-browser/">TuGraph Browser</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../../../en-US/2.operating/6.tools/3.tugraph-datax/">TuGraph DataX</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../../../en-US/2.operating/6.tools/4.tugraph-explore/">TuGraph Explore</a>
                </li>
    </ul>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="#">Developer Document</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../../../en-US/3.developer-document/1.restful-api/">RESTful API</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../../en-US/3.developer-document/2.cypher/">Cypher</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../../en-US/3.developer-document/3.procedure/">Procedure</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="#">Graph Analytics Engine</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" href="../../../../en-US/3.developer-document/4.graph_analytics_engine/1.tutorial/">Tutorial</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../../../en-US/3.developer-document/4.graph_analytics_engine/2.olap-base-api/">OLAP Base API</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../../../en-US/3.developer-document/4.graph_analytics_engine/3.olap-on-db-api/">OLAP on DB API</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../../../en-US/3.developer-document/4.graph_analytics_engine/4.olap-on-disk-api/">OLAP on Disk API</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../../../en-US/3.developer-document/4.graph_analytics_engine/5.algorithms/">Algorithms</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../../../en-US/3.developer-document/4.graph_analytics_engine/6.python-api/">Python API</a>
                </li>
    </ul>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="#">Client</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../../../en-US/4.client/1.java-client/">Java Client</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../../en-US/4.client/2.python-client/">Python Client</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../../en-US/4.client/3.cpp-client/">CPP Client</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="#">Supplement</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../../../en-US/5.supplement/changelog/">Changelog</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="#">Community</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../../../en-US/6.community/1.contributing/">Contributing</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../../en-US/6.community/2.membership/">Membership</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../../en-US/6.community/3.roadmap/">Roadmap</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../../en-US/6.community/4.individual_cla/">Individual CLA</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../../en-US/6.community/5.corporate_cla/">Corporate CLA</a>
                </li>
    </ul>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">zh-CN</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="#">指南</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../../1.guide/1.what-is-graph/">什么是图</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../1.guide/2.what-is-GDBMS/">什么是 GDBMS</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../1.guide/3.quick-start/">快速入门</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="#">操作</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../../2.operating/1.introduce/">介绍</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../2.operating/2.Install/">安装</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../2.operating/3.data-import/">数据导入</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../2.operating/4.server-config/">服务器配置</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../2.operating/5.operation/">运维</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../2.operating/7.ha-mode/">高可用模式</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../2.operating/8.manage-database/">管理数据库</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../2.operating/9.privilege/">权限</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../2.operating/10.resource-monitoring/">资源监控</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../2.operating/11.integration-test/">集成测试</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="#">工具</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" href="../../../2.operating/6.tools/1.tugraph-cypher/">TuGraph Cypher</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../../2.operating/6.tools/2.tugraph-browser/">TuGraph Browser</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../../2.operating/6.tools/3.tugraph-datax/">TuGraph DataX</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../../2.operating/6.tools/4.tugraph-explore/">TuGraph Explore</a>
                </li>
    </ul>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" href="#">开发者文档</a>
    <ul class="current">
                <li class="toctree-l2"><a class="reference internal" href="../../1.restful-api/">RESTful API</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../2.cypher/">Cypher</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../3.procedure/">Procedure</a>
                </li>
                <li class="toctree-l2 current"><a class="reference internal current" href="#">图分析引擎</a>
    <ul class="current">
                <li class="toctree-l3 current"><a class="reference internal current" href="./">教程</a>
    <ul class="current">
    <li class="toctree-l4"><a class="reference internal" href="#_2">目录</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#1-tugraph-">1. TuGraph-图分析引擎介绍</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#2-procedure">2. Procedure 编译与运行</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#3-embed">3. Embed 编译及运行</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#4-standalone">4. Standalone 编译与运行</a>
    </li>
    </ul>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../2.olap-base-api/">OLAP 基本 API</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../3.olap-on-db-api/">OLAP 在数据库上的 API</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../4.olap-on-disk-api/">OLAP 在磁盘上的 API</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../5.algorithms/">算法</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../6.python-api/">Python API</a>
                </li>
    </ul>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="#">客户端</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../../4.client/1.java-client/">Java 客户端</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../4.client/2.python-client/">Python 客户端</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../4.client/3.cpp-client/">CPP 客户端</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../4.client/4.java-ogm/">Java OGM</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="#">补充</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../../5.supplement/changelog/">更新日志</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="#">社区</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../../6.community/1.contributing/">参与贡献</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../6.community/2.membership/">成员资格</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../6.community/3.roadmap/">路线图</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../6.community/4.individual_cla/">个人 CLA</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../6.community/5.corporate_cla/">企业 CLA</a>
                </li>
    </ul>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../..">TuGraph Documentation</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../../.." class="icon icon-home" alt="Docs"></a> &raquo;</li>
          <li>zh-CN &raquo;</li>
          <li>开发者文档 &raquo;</li>
          <li>图分析引擎 &raquo;</li>
      <li>教程</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="_1">引导程序</h1>
<blockquote>
<p>本文档是为 TuGraph 的用户设计的引导程序，用户在阅读详细的文档之前，应该首先阅读该文档，对 TuGraph 的图计算运行流程有一个大致的了解，之后再阅读详细文档会更加方便。引导程序是基于 Tugraph 的一个简单的<a href="https://en.wikipedia.org/wiki/Breadth-first_search" title="wikipedia">bfs(宽度优先搜索)</a>程序实例，我们将重点介绍其使用方式。</p>
</blockquote>
<h2 id="_2">目录</h2>
<ul>
<li><a href="#1-tugraph-图分析引擎介绍">1. TuGraph-图分析引擎介绍</a></li>
<li><a href="#2-procedure-编译与运行">2. Procedure 编译与运行</a></li>
<li><a href="#3-embed文件编译及运行">3. Embed 编译及运行</a></li>
<li><a href="#4-standalone-编译与运行">4. Standalone 编译与运行</a></li>
</ul>
<h2 id="1-tugraph-">1. TuGraph-图分析引擎介绍</h2>
<p>TuGraph的图分析引擎，面向的场景主要是全图/全量数据分析类的任务。借助TuGraph的 C++ / Python 图分析引擎 API ，用户可以对不同数据来源的图数据快速导出一个待处理的复杂子图，然后在该子图上运行诸如PageRank、LPA、WCC等迭代式图算法，最后根据运行结果做出相应的对策。</p>
<p>在TuGraph中，导出和计算过程均可以通过在内存中并行处理的方式进行加速，从而达到近乎实时的处理分析，和传统方法相比，即避免了数据导出落盘的开销，又能使用紧凑的图数据结构获得计算的理想性能。</p>
<p>TuGraph图计算系统社区版内置6个算法，商业版内置了25种算法，用户几乎不需要自己实现具体的图计算过程。其详细介绍可参考algorithms.md。</p>
<p>根据数据来源及实现不同，可分为Procedure、Embed和Standalone三种运行方式，均继承于OlapBase API，OlapBase API接口文档可参考olapbase-api.md。</p>
<p>其中Procedure和Embed的数据来源是图数据库中预加载的db数据，可以分别编译生成TuGraph-Web加载使用的.so文件和后台终端使用的embed文件，输入的图数据均通过db的加载形式，其接口文档可参考olapondb-api.md。
Standalone用于编译生成standalone文件，区别于前者，该文件的输入图数据通过txt、二进制、ODPS文件的形式加载，其接口文档可参考olapondisk-api.md。</p>
<h2 id="2-procedure">2. Procedure 编译与运行</h2>
<p>该种方式主要用于TuGraph-web界面进行可视化加载及运行。使用方法如下：</p>
<h3 id="c">C++:</h3>
<p>在TuGraph/plugins目录下执行 bash make_so.sh bfs 即可在TuGraph/plugins目录下得到bfs.so文件，将该文件以插件形式上传至TuGraph-web，输入参数后即可执行。</p>
<h3 id="python">Python:</h3>
<p>在TuGraph-web的前端将python文件以插件形式上传，输入参数后即可执行。</p>
<p>示例：
在TuGraph/plugins编译.so算法文件
<code>bash make_so.sh bfs</code></p>
<p>将bfs.so（或TuGraph/plugins/cython/bfs.py）文件以插件形式加载至TuGraph-web后，输入如下json参数：</p>
<pre><code class="language-json">{
    &quot;root_id&quot;:&quot;0&quot;,
    &quot;label&quot;:&quot;node&quot;,
    &quot;field&quot;:&quot;id&quot;
}
</code></pre>
<p>即可得到返回结果如下。</p>
<p>result:"{"core_cost":0.013641119003295898,
        "found_vertices":3829,
        "num_edges":88234,
        "num_vertices":4039,
        "output_cost":8.821487426757813e-06,
        "prepare_cost":0.03479194641113281,
        "total_cost":0.04844188690185547}"</p>
<p>输出内容解释如下：
- num_edges: 表示该图数据的边数量
- num_vertices: 表示该图数据顶点的数量
- prepare_cost: 表示预处理阶段所需要的时间。预处理阶段的工作：加载参数、图数据加载、索引初始化等。
- core_cost: 表示算法运行所需要的时间。
- found_vertices: 表示查找到顶点的个数。 
- output_cost: 表示算法结果写回db所需要的时间。
- total_cost: 表示执行该算法整体运行时间。</p>
<p>make_so.sh文件介绍：该文件用于将TuGraph-OLAP所涉及到的图算法文件编译成一个可供TuGraph-web使用的.so文件。</p>
<h2 id="3-embed">3. Embed 编译及运行</h2>
<p>该种方式主要用于TuGraph在后台程序中对预加载的db图数据进行算法分析。其使用方法如下：
在TuGraph/plugins目录下对embed_main.cpp文件完善，补充数据名称、输入参数、数据路径等信息，示例如下：</p>
<h3 id="c_1">C++:</h3>
<pre><code class="language-C++">#include &lt;iostream&gt;
#include &quot;lgraph/lgraph.h&quot;
#include &quot;lgraph/olap_base.h&quot;
using namespace std;

extern &quot;C&quot; bool Process(lgraph_api::GraphDB &amp;db, const std::string &amp;request, std::string &amp;response);

int main(int argc, char **argv) {
    // db_path表示预加载图数据存放的路径
    std::string db_path = &quot;../fb_db/&quot;;
    if (argc &gt; 1)
        db_path = argv[1];
    lgraph_api::Galaxy g(db_path);
    g.SetCurrentUser(&quot;admin&quot;, &quot;73@TuGraph&quot;);
    // 指定图数据的名称
    lgraph_api::GraphDB db = g.OpenGraph(&quot;fb_db&quot;);
    std::string resp;
    // 以json形式输入算法参数
    bool r = Process(db, &quot;{\&quot;root_id\&quot;:\&quot;0\&quot;, \&quot;label\&quot;:\&quot;node\&quot;,\&quot;field\&quot;:\&quot;id\&quot;}&quot;, resp);
    cout &lt;&lt; r &lt;&lt; endl;
    cout &lt;&lt; resp &lt;&lt; endl;
    return 0;
}
</code></pre>
<p>保存后在TuGraph/plugins目录下执行 bash make_so.sh bfs 即可在TuGraph/plugins/cpp目录下的到bfs_procedure文件，
<code>bash make_embed.sh bfs</code></p>
<p>在TuGraph/plugins文件夹下执行
<code>./cpp/bfs_procedure</code> 
即可得到返回结果。</p>
<p>Input: {"root_id":"0", "label":"node","field":"id"}
found_vertices = 3829
{"core_cost":0.025603055953979492,
"found_vertices":3829,
"num_edges":88234,
"num_vertices":4039,
"output_cost":9.059906005859375e-06,
"prepare_cost":0.056738853454589844,
"total_cost":0.0823509693145752}</p>
<p>其中Input表示输入的参数，其余参数解释同上。</p>
<h3 id="python_1">Python：</h3>
<p>在TuGraph/plugins文件夹下执行
<code>bash make_cython_so.sh bfs</code>
或在TuGraph/plugins/cython文件夹下执行
<code>python3 setup.py build_ext -i</code>
得到bfs.so后，在Python中import bfs可使用，如TuGraph/plugins/embed_main.py所示</p>
<pre><code class="language-python"># TuGraph/plugins/embed_main.py
from lgraph_db_python import *

import bfs as python_plugin

if __name__ == &quot;__main__&quot;:
    galaxy = PyGalaxy(&quot;../build/output/lgraph_db&quot;)
    galaxy.SetCurrentUser(&quot;admin&quot;, &quot;73@TuGraph&quot;)
    db = galaxy.OpenGraph(&quot;default&quot;, False)
    res = python_plugin.Process(db, &quot;{\&quot;root_id\&quot;:\&quot;0\&quot;, \&quot;label\&quot;:\&quot;node\&quot;,\&quot;field\&quot;:\&quot;id\&quot;}&quot;.encode('utf-8'))
    print(res)
    del db
    del galaxy

# shell
python3 embed_main.py
</code></pre>
<p>输出结果与C++相同。</p>
<h2 id="4-standalone">4. Standalone 编译与运行</h2>
<p>该文件主要用于在终端处直接加载图数据，并运行打印输出结果。使用方法如下：
在TuGraph/build目录下执行 make bfs_standalone (需要在g++默认include路径中包含boost/sort/sort.hpp)即可得到bfs_standalone文件,该文件生成于TuGraph/build/output/algo文件夹下。
运行：在TuGraph/build目录下执行./output/algo/bfs_standalone -–type [type] –-input_dir [input_dir] --id_mapping [id_mapping] -–vertices [vertices] --root [root] –-output_dir [output_dir]
即可运行。
- <code>[type]</code>：表示输入图文件的类型来源，包含text文本文件、BINARY_FILE二进制文件和ODPS源。
- <code>[input_dir]</code>：表示输入图文件的文件夹路径，文件夹下可包含一个或多个输入文件。TuGraph在读取输入文件时会读取[input_dir]下的所有文件，要求[input_dir]下只能包含输入文件，不能包含其它文件。参数不可省略。
- <code>[id_mapping]</code>：当读入边表时，是否对输入数据做id映射，使达到符合算法运行的形式。1为需要做id映射，0为不需要做。该过程会消耗一定时间。参数可省略，默认值为0。
- <code>[vertices]</code>：表示图的顶点个数，为0时表示用户希望系统自动识别顶点数量；为非零值时表示用户希望自定义顶点个数，要求用户自定义顶点个数需大于最大的顶点ID。参数可省略，默认值为0。
- <code>[root]</code>：表示进行bfs的起始顶点id。参数不可省略。
- <code>[output_dir]</code>：表示输出数据保存的文件夹路径，将输出内容保存至该文件中，参数不可省略。</p>
<p>示例：</p>
<h3 id="c_2">C++:</h3>
<p>在TuGraph/build编译standalone算法程序</p>
<pre><code class="language-leaf">make bfs_standalone
</code></pre>
<p>在TuGraph/build/output目录下运行text源文件</p>
<pre><code>    ./output/algo/bfs_standalone --type text --input_dir ../test/integration/data/algo/fb_unweighted --root 0
</code></pre>
<p>得到运行结果：</p>
<pre><code>prepare_cost = 0.10(s)
core_cost = 0.02(s)
found_vertices = 3829
output_cost = 0.00(s)
total_cost = 0.11(s)
DONE.
</code></pre>
<p>结果参数解释同上。</p>
<p>对于新的算法，运行时不了解该算法的所需参数时，可通过<code>./output/algo/bfs_standalone -h</code>进行查阅对应参数。</p>
<h3 id="python_2">Python:</h3>
<p>Python语言的bfs拓展编译过程与embed模式无区别，在运行时通过<code>Standalone</code>接口调用，示例如下：</p>
<pre><code class="language-python"># TuGraph/plugins/standalone_main.py
import bfs as python_plugin

if __name__ == &quot;__main__&quot;:
    python_plugin.Standalone(input_dir=
                             &quot;../test/integration/data/algo/fb_unweighted&quot;,
                             root=0)

# shell
python3 standalone_main.py
</code></pre>
<p>至此，通过TuGraph对上图进行bfs运算的过程已经完成。</p>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../../3.procedure/" class="btn btn-neutral float-left" title="Procedure"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../2.olap-base-api/" class="btn btn-neutral float-right" title="OLAP 基本 API">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../../3.procedure/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../2.olap-base-api/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script>var base_url = '../../../..';</script>
    <script src="../../../../js/theme_extra.js" defer></script>
    <script src="../../../../js/theme.js" defer></script>
      <script src="../../../../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
