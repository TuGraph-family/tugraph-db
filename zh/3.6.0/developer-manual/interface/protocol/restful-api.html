<!doctype html>
<html lang="zh-CN" dir="ltr" class="docs-wrapper plugin-docs plugin-id-3-6-0_zh docs-version-current docs-doc-page docs-doc-id-developer-manual/interface/protocol/restful-api" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.5.2">
<title data-rh="true">RESTful API | TuGraph 文档中心</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://tugraph.tech/tugraph-db/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://tugraph.tech/tugraph-db/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://tugraph.tech/tugraph-db/zh/3.6.0/developer-manual/interface/protocol/restful-api"><meta data-rh="true" property="og:locale" content="zh_CN"><meta data-rh="true" property="og:locale:alternate" content="en_US"><meta data-rh="true" name="docusaurus_locale" content="zh-CN"><meta data-rh="true" name="docsearch:language" content="zh-CN"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-3-6-0_zh-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-3-6-0_zh-current"><meta data-rh="true" property="og:title" content="RESTful API | TuGraph 文档中心"><meta data-rh="true" name="description" content="此文档主要介绍 TuGrpah 的 Rest API 的调用详情。"><meta data-rh="true" property="og:description" content="此文档主要介绍 TuGrpah 的 Rest API 的调用详情。"><link data-rh="true" rel="icon" href="https://mdn.alipayobjects.com/huamei_qcdryc/afts/img/A*AbamQ5lxv0IAAAAAAAAAAAAADgOBAQ/original"><link data-rh="true" rel="canonical" href="https://tugraph.tech/tugraph-db/zh/3.6.0/developer-manual/interface/protocol/restful-api"><link data-rh="true" rel="alternate" href="https://tugraph.tech/tugraph-db/zh/3.6.0/developer-manual/interface/protocol/restful-api" hreflang="zh-CN"><link data-rh="true" rel="alternate" href="https://tugraph.tech/tugraph-db/en-US/zh/3.6.0/developer-manual/interface/protocol/restful-api" hreflang="en-US"><link data-rh="true" rel="alternate" href="https://tugraph.tech/tugraph-db/zh/3.6.0/developer-manual/interface/protocol/restful-api" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://DGYVABHR0M-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="TuGraph 文档中心" href="/tugraph-db/opensearch.xml">

















<meta name="algolia-site-verification" content="FC204AA054194DE3"><link rel="stylesheet" href="/tugraph-db/assets/css/styles.ce6a6631.css">
<script src="/tugraph-db/assets/js/runtime~main.349d6fd9.js" defer="defer"></script>
<script src="/tugraph-db/assets/js/main.27a83fc4.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="跳到主要内容"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">跳到主要内容</a></div><nav aria-label="主导航" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="切换导航栏" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/tugraph-db/"><div class="navbar__logo"><img src="https://mdn.alipayobjects.com/huamei_qcdryc/afts/img/A*AbamQ5lxv0IAAAAAAAAAAAAADgOBAQ/original" alt="Tugraph Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="https://mdn.alipayobjects.com/huamei_qcdryc/afts/img/A*AbamQ5lxv0IAAAAAAAAAAAAADgOBAQ/original" alt="Tugraph Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/TuGraph-family/tugraph-db" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="切换浅色/暗黑模式（当前为浅色模式）" aria-label="切换浅色/暗黑模式（当前为浅色模式）" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="搜索 (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">搜索</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="docsearch-wrapper" style="display:flex;justify-content:center;flex-direction:column"><div style="display:flex;justify-content:space-between;margin-bottom:8px"><div class="itemWrapper"><div class="titleBlock"><span class="titleText">TuGraph DB</span><div class="downIcon"></div></div><div class="contentArea"><span id="engineDescription">社区版</span><span class="versionLabel">V<!-- -->3.6.0</span></div></div><div class="searchWrapper"><button type="button" class="DocSearch DocSearch-Button" aria-label="搜索 (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">搜索</span></span><span class="DocSearch-Button-Keys"></span></button></div></div><div class="sidebar_njMd"><nav aria-label="文档侧边栏" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/tugraph-db/zh/3.6.0/guide">文档地图</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/tugraph-db/zh/3.6.0/introduction/what-is-graph">Tugraph 入门</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/tugraph-db/zh/3.6.0/quick-start/preparation">快速上手</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/tugraph-db/zh/3.6.0/user-guide/tugraph-browser">操作指南</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/tugraph-db/zh/3.6.0/developer-manual/installation/environment">用户手册</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/tugraph-db/zh/3.6.0/developer-manual/installation/environment">安装</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/tugraph-db/zh/3.6.0/developer-manual/running/compile">运行</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/tugraph-db/zh/3.6.0/developer-manual/server-tools/data-import">服务端工具</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/tugraph-db/zh/3.6.0/developer-manual/client-tools/python-client">客户端工具</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/tugraph-db/zh/3.6.0/developer-manual/ecosystem-tools/monitoring">生态工具</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/tugraph-db/zh/3.6.0/developer-manual/interface/cypher">编程接口</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/tugraph-db/zh/3.6.0/developer-manual/interface/cypher">Cypher API</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/tugraph-db/zh/3.6.0/developer-manual/interface/olap/tutorial">分析接口</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/tugraph-db/zh/3.6.0/developer-manual/interface/procedure/procedure">存储过程</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/tugraph-db/zh/3.6.0/developer-manual/interface/protocol/rpc-api">网络协议</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/tugraph-db/zh/3.6.0/developer-manual/interface/protocol/rpc-api">RPC API</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/tugraph-db/zh/3.6.0/developer-manual/interface/protocol/restful-api">RESTful API</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/tugraph-db/zh/3.6.0/developer-manual/interface/learn/tutorial">图学习</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/tugraph-db/zh/3.6.0/developer-manual/quality/unit-testing">测试与质量保证</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/tugraph-db/zh/3.6.0/developer-manual/other/privilege">权限管理</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/tugraph-db/zh/3.6.0/community-manual/contributing">开发者文档</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/tugraph-db/zh/3.6.0/best-practices/rdbms-to-tugraph">最佳实践</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/tugraph-db/zh/3.6.0/faq">FAQ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/tugraph-db/zh/3.6.0/contacts">联系方式</a></li></ul></nav></div></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="页面路径"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="主页面" class="breadcrumbs__link" href="/tugraph-db/zh/3.6.0/guide"><div style="color:#1a1b2572">文档</div></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">用户手册</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">编程接口</span><meta itemprop="position" content="2"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">网络协议</span><meta itemprop="position" content="3"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">RESTful API</span><meta itemprop="position" content="4"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">本页总览</button></div><div class="theme-doc-markdown markdown"><header><h1>RESTful API</h1></header>
<blockquote>
<p>此文档主要介绍 TuGrpah 的 Rest API 的调用详情。</p>
</blockquote>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="1简介">1.简介<a href="#1简介" class="hash-link" aria-label="1.简介的直接链接" title="1.简介的直接链接">​</a></h2>
<p>TuGraph 提供遵从 REST 规范的 HTTP API，以供开发者通过 HTTP 请求远程调用 TuGraph 提供的服务。</p>
<p>本文档描述 TuGraph 的 HTTP API 使用方式。</p>
<p><strong>注意：除&quot;登陆&quot;、&quot;查询&quot;和&quot;存储过程&quot;外，其余接口自 <strong>2023年4月30日</strong> 起将不再提供支持，统一使用Cypher接口提供服务。</strong></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="2请求与数据格式">2.请求与数据格式<a href="#2请求与数据格式" class="hash-link" aria-label="2.请求与数据格式的直接链接" title="2.请求与数据格式的直接链接">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="21请求">2.1请求<a href="#21请求" class="hash-link" aria-label="2.1请求的直接链接" title="2.1请求的直接链接">​</a></h3>
<p>TuGraph 支持 HTTP GET/POST/PUT/DELETE 请求。其中：</p>
<ul>
<li>GET 请求用于只读请求，如读取点属性，边属性等操作；</li>
<li>POST 请求用于创建实体，提交 Cypher，以及加载和调用存储过程；</li>
<li>PUT 请求用于修改已有实体，如修改点属性，边属性等；</li>
<li>DELETE 请求用于删除已有实体，如删除点，边等。</li>
</ul>
<p>在高可用模式下，用户可以在请求的报头(request header)中设置 <code>server_version</code> 来保证请求的服务器有足够新的数据。
当前的 <code>server_version</code> 可以从服务器返回的报头中获取。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="22数据格 式">2.2.数据格式<a href="#22数据格式" class="hash-link" aria-label="2.2.数据格式的直接链接" title="2.2.数据格式的直接链接">​</a></h3>
<p>客户端与服务端数据交互的格式是 JSON。在发送请求时，请将发送数据的请求的报头设置为 <code>Accept:application/json, Content-Type:application/json</code>。
例如在创建一个点时，请求报头包含以下内容：</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    Accept: application/json; charset=UTF-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Content-Type: application/json</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    server_version: 12</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="23返回值">2.3.返回值<a href="#23返回值" class="hash-link" aria-label="2.3.返回值的直接链接" title="2.3.返回值的直接链接">​</a></h3>
<p>TuGraph 返回的 HTTP 状态码包含以下四种：</p>
<ul>
<li>200 OK: 操作成功</li>
<li>307 Temporary Redirect: 操作被重定向，一般用于高可用模式下，把操作重定向到 master 上</li>
<li>400 Bad Request: 输入有误，例如 URI 错误，或者请求中的 JSON 参数错误</li>
<li>500 Internal Server Error: 服务器端错误</li>
</ul>
<p>当操作成功时，返回的 JSON 中包含操作的返回值。当操作重定向时，返回的 HTTP 报头中的 <code>location</code> 域包含重定向目的地址。
当发生输入错误或者服务器错误时，返回的 JSON 中包含 <code>error_message</code> 域，其内容是错误提示。</p>
<p>在高可用模式下，服务器还会在报头中设置 <code>server_version</code>，以告知客户端当前服务器的数据版本号。当客户端在不同的服务器之间切换时，该数据版本号可以保证客户端不会读到错误的历史数据。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="24uri格式">2.4.URI格式<a href="#24uri格式" class="hash-link" aria-label="2.4.URI格式的直接链接" title="2.4.URI格式的直接链接">​</a></h3>
<p>TuGraph REST API 提供以下功能：Service Root, login, info, label, index, node, relationship, cypher, cpp_plugin, 以及 python_plugin。
各功能使用的 URI 格式如下：</p>









































<table><thead><tr><th>URI</th><th>说明</th></tr></thead><tbody><tr><td>/web</td><td>web 可视化界面</td></tr><tr><td>/cypher</td><td>cypher 请求</td></tr><tr><td>/acl</td><td>权限控制</td></tr><tr><td>/user</td><td>用户管理</td></tr><tr><td>/login</td><td>用户登录</td></tr><tr><td>/info</td><td>数据库状态及提示信息</td></tr><tr><td>/task</td><td>任务管理</td></tr><tr><td>/db</td><td>子图操作</td></tr></tbody></table>
<p>其中子图操作又分为：</p>

















































<table><thead><tr><th>URI</th><th>说明</th></tr></thead><tbody><tr><td>/db</td><td>子图的创建，删除</td></tr><tr><td>/db/<em>{graph_name}</em>/node</td><td>点操作</td></tr><tr><td>/db/<em>{graph_name}</em>/relationship</td><td>边操作</td></tr><tr><td>/db/<em>{graph_name}</em>/label</td><td>Label 相关操作</td></tr><tr><td>/db/<em>{graph_name}</em>/index</td><td>索引相关操作</td></tr><tr><td>/db/<em>{graph_name}</em>/cypher</td><td>子图相关 cypher 操作</td></tr><tr><td>/db/<em>{graph_name}</em>/cpp_plugin</td><td>C++存储过程</td></tr><tr><td>/db/<em>{graph_name}</em>/python_plugin</td><td>Python 存储过程</td></tr><tr><td>/db/<em>{graph_name}</em>/import</td><td>在线导入</td></tr><tr><td>/db/<em>{graph_name}</em>/misc</td><td>其它操作</td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="3登录">3.登录<a href="#3登录" class="hash-link" aria-label="3.登录的直接链接" title="3.登录的直接链接">​</a></h2>
<p>TuGraph 提供基于 JWT 的用户认证方式，可以使用 HTTP 或 HTTPS 协议进行传输。系统默认使用 HTTP 协议，如果需要使用 HTTPS，需要在 lgraph.json 配置文件中将 ssl_auth 设为 1。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="31登录">3.1.登录<a href="#31登录" class="hash-link" aria-label="3.1.登录的直接链接" title="3.1.登录的直接链接">​</a></h3>
<p>用户通过用户名和密码发送登录请求。登录成功会收到带有签名的令牌，即 Json Web Token，客户端储存该令牌，并且用于以后的每次发送请求。如果登录失败会收到“Authentication failed”错误。</p>
<ul>
<li>
<p><strong>URI</strong>: <code>/login</code></p>
</li>
<li>
<p><strong>METHOD</strong>: POST</p>
</li>
<li>
<p><strong>REQUEST</strong>:</p>




















<table><thead><tr><th>域名</th><th>说明</th><th>类型</th></tr></thead><tbody><tr><td>user</td><td>用户名</td><td>字符串</td></tr><tr><td>password</td><td>密码</td><td>字符串</td></tr></tbody></table>
</li>
<li>
<p><strong>RESPONSE</strong>:</p>















<table><thead><tr><th>域名</th><th>说明</th><th>类型</th></tr></thead><tbody><tr><td>jwt</td><td>令牌</td><td>字符串</td></tr></tbody></table>
</li>
</ul>
<p><strong>Example request.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • POST http://localhost:7070/login</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Accept: application/json; charset=UTF-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Content-Type: application/json; charset=UTF-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Input:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;user&quot;:&quot;admin&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;password&quot;:&quot;73@TuGraph&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Example response.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • 200: OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Output:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;jwt&quot;: &quot;eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhZG1pbiI6dHJ1ZSwiaXNzIjoiZm1hLmFpIiwidXNlcl9pZCI6ImFkbWluIn0.SHaqrjKLaI4byjbEYVAH4D88dOTD_zYQ_uAvdizTMek&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="32身份刷新">3.2.身份刷新<a href="#32身份刷新" class="hash-link" aria-label="3.2.身份刷新的直接链接" title="3.2.身份刷新的直接链接">​</a></h3>
<p>Token失效后，前端发起刷新token接口，后端验证token合法性。初次登录后，1小时内有效，需刷新使用。即使刷新，24小时后也会强制退出，需要重新登陆。
验证通过，生成新的token；验证失败返回  状态码401。</p>
<ul>
<li><strong>URI</strong>: <code>/refresh</code></li>
<li><strong>METHOD</strong>: POST</li>
<li><strong>REQUEST</strong>:















<table><thead><tr><th>域名</th><th>说明</th><th>类型</th></tr></thead><tbody><tr><td>Authorization</td><td>令牌</td><td>字符串</td></tr></tbody></table>
</li>
<li><strong>RESPONSE</strong>:















<table><thead><tr><th>域名</th><th>说明</th><th>类型</th></tr></thead><tbody><tr><td>jwt</td><td>令牌</td><td>字符串</td></tr></tbody></table>
</li>
</ul>
<p><strong>Example request.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • POST http://localhost:7070/refresh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Accept: application/json; charset=UTF-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Content-Type: application/json; charset=UTF-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Input:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;Authorization&quot;: &quot;Bearer eyJhbGciOiJIUz32NiIsInR5cCI6IkpXVDJ9.eyJhZG1pbiI6dHJ1ZSwiaXNzIjoiZm1hLmFpIiwidXNlcl9pZCI6ImFkbWluIn0.SHaqrjKLaI4byj3fYVAH4D88dfTD_zYQ_uAvdizTMek&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Example response.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • 200: OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Output:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;jwt&quot;: &quot;eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhZG1pbiI6dHJ1ZSwiaXNzIjoiZm1hLmFpIiwidXNlcl9pZCI6ImFkbWluIn0.SHaqrjKLaI4byjbEYVAH4D88dOTD_zYQ_uAvdizTMek&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="33修改token有效期">3.3.修改Token有效期<a href="#33修改token有效期" class="hash-link" aria-label="3.3.修改Token有效期的直接链接" title="3.3.修改Token有效期的直接链接">​</a></h3>
<p>修改Token有效期，需要传输jwt，refresh_time和expire_time三个参数，其中jwt用于校验用户身份，refresh_time和expire_time等于0时，有效期为无期限，超过refresh_time时，需要调用refresh接口获取新的Token;超过expire_time时，需要重新登录。</p>
<ul>
<li>
<p><strong>URI</strong>: <code>/update_token_time</code></p>
</li>
<li>
<p><strong>METHOD</strong>: POST</p>
</li>
<li>
<p><strong>REQUEST</strong>:</p>

























<table><thead><tr><th>域名</th><th>说明</th><th>类型</th></tr></thead><tbody><tr><td>Authorization</td><td>令牌</td><td>字符串</td></tr><tr><td>refresh_time</td><td>有效时间（默认设置为0）</td><td>Int64</td></tr><tr><td>expire_time</td><td>有效时间（默认设置为0）</td><td>Int64</td></tr></tbody></table>
</li>
<li>
<p><strong>RESPONSE</strong>:  如果成功，返回代码 200。</p>
</li>
</ul>
<p><strong>Example request.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • POST http://localhost:7070/update_token_time</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Accept: application/json; charset=UTF-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Content-Type: application/json; charset=UTF-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Input:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;Authorization&quot; : &quot;Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJmbWEuYWkiLCJwYXNzd29yZCI6IjczQFR1R3JhcGgiLCJ1c2VyIjoiYWRtaW4ifQ.o_yb5veSJkuy-ieBp4MqTk-tC1grcKotgVbgNJ0TyTU&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;refresh_time&quot;:0,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;expire_time&quot;:0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Example response.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • 200: OK</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="34查询token有效期">3.4.查询Token有效期<a href="#34查询token有效期" class="hash-link" aria-label="3.4.查询Token有效期的直接链接" title="3.4.查询Token有效期的直接链接">​</a></h3>
<p>查询Token有效期，需要传输jwt，用于校验用户身份，返回，refresh_time和expire_time，其中refresh_time表示刷新时间，超过时需要调用refresh接口获取新的Token;expire_time表示过期时间，超过时需要重新登录。</p>
<ul>
<li>
<p><strong>URI</strong>: <code>/get_token_time</code></p>
</li>
<li>
<p><strong>METHOD</strong>: POST</p>
</li>
<li>
<p><strong>REQUEST</strong>:</p>















<table><thead><tr><th>域名</th><th>说明</th><th>类型</th></tr></thead><tbody><tr><td>Authorization</td><td>令牌</td><td>字符串</td></tr></tbody></table>
</li>
<li>
<p><strong>RESPONSE</strong>:  如果成功，返回&quot;refresh_time&quot;和&quot;expire_time&quot;。</p>
</li>
</ul>
<p><strong>Example request.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • POST http://localhost:7070/get_token_time</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Accept: application/json; charset=UTF-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Content-Type: application/json; charset=UTF-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Input:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;Authorization&quot; : &quot;Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJmbWEuYWkiLCJwYXNzd29yZCI6IjczQFR1R3JhcGgiLCJ1c2VyIjoiYWRtaW4ifQ.o_yb5veSJkuy-ieBp4MqTk-tC1grcKotgVbgNJ0TyTU&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Example response.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • 200: OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Output:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;refresh_time&quot;:600,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;expire_time&quot;:3600</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="35登出">3.5.登出<a href="#35登出" class="hash-link" aria-label="3.5.登出的直接链接" title="3.5.登出的直接链接">​</a></h3>
<p>用户登出，同时删除token。</p>
<ul>
<li><strong>URI</strong>: <code>/logout</code></li>
<li><strong>METHOD</strong>: POST</li>
<li><strong>REQUEST</strong>:















<table><thead><tr><th>域名</th><th>说明</th><th>类型</th></tr></thead><tbody><tr><td>Authorization</td><td>令牌</td><td>字符串</td></tr></tbody></table>
</li>
<li><strong>RESPONSE</strong>:  如果成功，返回代码 200。</li>
</ul>
<p><strong>Example request.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • POST http://localhost:7070/logout</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Accept: application/json; charset=UTF-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Content-Type: application/json; charset=UTF-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Input:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;Authorization&quot; : &quot;Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJmbWEuYWkiLCJwYXNzd29yZCI6IjczQFR1R3JhcGgiLCJ1c2VyIjoiYWRtaW4ifQ.o_yb5veSJkuy-ieBp4MqTk-tC1grcKotgVbgNJ0TyTU&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Example response.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • 200: OK</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代 码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="4查询">4.查询<a href="#4查询" class="hash-link" aria-label="4.查询的直接链接" title="4.查询的直接链接">​</a></h2>
<p>URI 格式为</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    http://{host}:{port}/cypher</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="41调用cypher">4.1.调用Cypher<a href="#41调用cypher" class="hash-link" aria-label="4.1.调用Cypher的直接链接" title="4.1.调用Cypher的直接链接">​</a></h3>
<ul>
<li>
<p><strong>URI</strong>: <code>/cypher</code></p>
</li>
<li>
<p><strong>METHOD</strong>: POST</p>
</li>
<li>
<p><strong>REQUEST</strong>:</p>




















<table><thead><tr><th>域名</th><th>说明</th><th>类型</th></tr></thead><tbody><tr><td>graph</td><td>数据库</td><td>字符串</td></tr><tr><td>cypher</td><td>查询语句</td><td>字符串</td></tr></tbody></table>
</li>
<li>
<p><strong>RESPONSE</strong>:</p>






























<table><thead><tr><th>域名</th><th>说明</th><th>类型</th></tr></thead><tbody><tr><td>result</td><td>运行结果</td><td>列表</td></tr><tr><td>elapsed</td><td>运行时间（秒）</td><td>浮点数</td></tr><tr><td>header</td><td>返回结果的表头</td><td>列表</td></tr><tr><td>size</td><td>结果数</td><td>整型</td></tr></tbody></table>
</li>
</ul>
<p>其中 header 是一个列表，每一元素格式如下：</p>




















<table><thead><tr><th>域名</th><th>说明</th><th>类型</th></tr></thead><tbody><tr><td>name</td><td>列名</td><td>字符串</td></tr><tr><td>type</td><td>列数据类型，0 为标量，1 为点 id，2 为向量</td><td></td></tr></tbody></table>
<p><strong>Example request.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • POST http://localhost:7070/cypher</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Accept: application/json; charset=UTF-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Content-Type: application/json; charset=UTF-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Input:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;graph&quot;: &quot;default&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;script&quot;: &quot;MATCH (n) RETURN n,n.name LIMIT 10&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Example response.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • 200: OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Output:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;elapsed&quot;: 0.001224517822265625,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;header&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;name&quot;: &quot;n&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;type&quot;: 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;name&quot;: &quot;n.name&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;type&quot;: 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;result&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                0,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;Rachel Kempson&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                1,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;Michael Redgrave&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                2,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;Vanessa Redgrave&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;size&quot;: 3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="42调用带参数的-cypher">4.2.调用带参数的 Cypher<a href="#42调用带参数的-cypher" class="hash-link" aria-label="4.2.调用带参数的 Cypher的直接链接" title="4.2.调用带参数的 Cypher的直接链接">​</a></h3>
<p>Cypher 支持使用参数进行查询。当调用带参数的 Cypher 查询时，TuGraph 会缓存该查询的
执行计划（execution plan），以加速后续同类查询的速度。</p>
<ul>
<li>
<p><strong>URI</strong>: <code>/cypher</code></p>
</li>
<li>
<p><strong>METHOD</strong>: POST</p>
</li>
<li>
<p><strong>REQUEST</strong>:</p>

























<table><thead><tr><th>域名</th><th>说明</th><th>类型</th></tr></thead><tbody><tr><td>graph</td><td>数据库</td><td>字符串</td></tr><tr><td>cypher</td><td>查询语句</td><td>字符串</td></tr><tr><td>parameters</td><td>参数</td><td>列表</td></tr></tbody></table>
</li>
<li>
<p><strong>RESPONSE</strong>:</p>
</li>
</ul>
<p>与 <a href="#%E8%B0%83%E7%94%A8Cypher">调用 Cypher</a> 相同。</p>
<p><strong>Example request.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • POST http://localhost:7070/db/graph1/cypher</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Accept: application/json; charset=UTF-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Content-Type: application/json; charset=UTF-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Input:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;graph&quot;: &quot;default&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;script&quot;: &quot;MATCH (n:Person {name:$param1}) RETURN n.birthyear&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;parameters&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;$param1&quot;: &quot;Lindsay Lohan&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Example response.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • 200: OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Output:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;elapsed&quot;: 0.005886077880859375,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;header&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;name&quot;: &quot;n.birthyear&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;type&quot;: 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;result&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                1986</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;size&quot;: 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="5存储过程">5.存储过程<a href="#5存储过程" class="hash-link" aria-label="5.存储过程的直接链接" title="5.存储过程的直接链接">​</a></h2>
<p>URI 格式为</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    http://{host}:{port}/db/{graph_name}/cpp_plugin|python_plugin</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="51加载存储过程">5.1.加载存储过程<a href="#51加载存储过程" class="hash-link" aria-label="5.1.加载存储过程的直接链接" title="5.1.加载存储过程的直接链接">​</a></h3>
<p>TuGraph 服务启动时，如果 load_plugins 为真，则会自动加载 plugin 目录下的所有 plugin。否则需要手动加载。此外，如果服务器运行过程中，管理员更新了 plugin 文件，也需要手动重新加载。重新加载 plugin 的调用格式为：</p>
<ul>
<li>
<p><strong>URI</strong>: <code>/db/{graph_name}/cpp_plugin|python_plugin</code></p>
</li>
<li>
<p><strong>METHOD</strong>: POST</p>
</li>
<li>
<p><strong>REQUEST</strong>:</p>



































<table><thead><tr><th>域名</th><th>说明</th><th>类型</th></tr></thead><tbody><tr><td>name</td><td>插件名称</td><td>字符串</td></tr><tr><td>description</td><td>插件说明</td><td>字符串</td></tr><tr><td>code_base64</td><td>插件代码</td><td>字符串，使用 base64 编码</td></tr><tr><td>read_only</td><td>是否为只读存储过程</td><td>布尔值</td></tr><tr><td>code_type</td><td>上传代码的类型，C++类型可选 zip/so/cpp，Python 为 py</td><td>字符串</td></tr></tbody></table>
</li>
<li>
<p><strong>RESPONSE</strong>: 如果成功，返回代码 200。</p>
</li>
</ul>
<p><strong>Example request.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • POST http://localhost:7070/db/graph1/cpp_plugin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Accept: application/json; charset=UTF-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Content-Type: application/json; charset=UTF-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Input:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;name&quot; : &quot;echo&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;description&quot; : &quot;A test plugin that returns the input&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;code_base64&quot; : &quot;{base64 encoded echo.zip}&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;read_only&quot; : true,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;code_type&quot; : &quot;zip&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Example response.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • 200: OK</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="52列出所有存储过程">5.2.列出所有存储过程<a href="#52列出所有存储过程" class="hash-link" aria-label="5.2.列出所有存储过程的直接链接" title="5.2.列出所有存储过程的直接链接">​</a></h3>
<ul>
<li><strong>URI</strong>: <code>/db/{graph_name}/cpp_plugin|python_plugin</code></li>
<li><strong>METHOD</strong>: GET</li>
<li><strong>RESPONSE</strong>: 存储过程列表，其中每个元  素是一个 plugin 的描述，其格式为：

























<table><thead><tr><th>域名</th><th>说明</th><th>类型</th></tr></thead><tbody><tr><td>name</td><td>存储过程名</td><td>字符串</td></tr><tr><td>description</td><td>存储过程描述</td><td>字符串</td></tr><tr><td>read_only</td><td>存储过程是否只读</td><td>布尔值</td></tr></tbody></table>
</li>
</ul>
<p><strong>Example request.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • GET http://localhost:7070/db/graph1/cpp_plugin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Accept: application/json; charset=UTF-8</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Example response.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • 200: OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Output:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;description&quot;:&quot;adds a vertex label to the db&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;name&quot;:&quot;add_label&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;read_only&quot;:false</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;description&quot;: &quot;scans graph and get number of edges&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;name&quot;: &quot;scan_graph&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;read_only&quot;: true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="53获取存储过程的详细信息">5.3.获取存储过程的详细信息<a href="#53获取存储过程的详细信息" class="hash-link" aria-label="5.3.获取存储过程的详细信息的直接链接" title="5.3.获取存储过程的详细信息的直接链接">​</a></h3>
<ul>
<li><strong>URI</strong>: <code>/db/{graph_name}/cpp_plugin|python_plugin/{plugin_name}</code></li>
<li><strong>METHOD</strong>: GET</li>
<li><strong>RESPONSE</strong>: 存储过程信息，包括代码，其格式为：



































<table><thead><tr><th>域名</th><th>说明</th><th>类型</th></tr></thead><tbody><tr><td>name</td><td>存储过程名</td><td>字符串</td></tr><tr><td>description</td><td>存储过程描述</td><td>字符串</td></tr><tr><td>read_only</td><td>存储过程是否只读</td><td>布尔值</td></tr><tr><td>code_base64</td><td>存储过程的代码</td><td>字符串，使用 base64 编码</td></tr><tr><td>code_type</td><td>上传代码的类型，C++类型可选 zip/so/cpp，Python 为 py</td><td>字符串</td></tr></tbody></table>
</li>
</ul>
<p><strong>Example request.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • GET http://localhost:7070/db/graph1/cpp_plugin/echo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Accept: application/json; charset=UTF-8</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Example response.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • 200: OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Output:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;name&quot; : &quot;echo&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;description&quot; : &quot;A test plugin that returns the input&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;code_base64&quot; : &quot;{base64 encoded echo.zip}&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;read_only&quot; : true,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;code_type&quot; : &quot;zip&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="54调用存储过程">5.4.调用存储过程<a href="#54调用存储过程" class="hash-link" aria-label="5.4.调用存储过程的直接链接" title="5.4.调用存储过程的直接链接">​</a></h3>
<ul>
<li>
<p><strong>URI</strong>: <code>/db/{graph_name}/cpp_plugin|python_plugin/{plugin_name}</code></p>
</li>
<li>
<p><strong>METHOD</strong>: POST</p>
</li>
<li>
<p><strong>REQUEST</strong>: 字符串输入</p>

























<table><thead><tr><th>域名</th><th>说明</th><th>类型</th></tr></thead><tbody><tr><td>data</td><td>输入数据</td><td>字符串</td></tr><tr><td>timeout</td><td>超时长度（秒，可选，缺省值为 0）</td><td>浮点</td></tr><tr><td>in_process</td><td>是否在本进程调用（可选，缺省值为 false）</td><td>布尔值</td></tr></tbody></table>
</li>
<li>
<p><strong>RESPONSE</strong>:</p>















<table><thead><tr><th>域名</th><th>说明</th><th>类型</th></tr></thead><tbody><tr><td>result</td><td>运行结果</td><td>字符串</td></tr></tbody></table>
</li>
</ul>
<p><strong>Example request.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • POST http://localhost:7070/db/graph1/python_plugin/echo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Accept: application/json; charset=UTF-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Content-Type: application/json; charset=UTF-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Input:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        data : &quot;Hello!\n你好！\nKonichiwa!&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        timeout : 0,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        in_process : true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Example response.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • 200: OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Output:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;result&quot;: &quot;Hello!\n你好！\nKonichiwa!&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="55删除存储过程">5.5.删除存储过程<a href="#55删除存储过程" class="hash-link" aria-label="5.5.删除存储过程的直接链接" title="5.5.删除存储过程的直接链接">​</a></h3>
<ul>
<li><strong>URI</strong>: <code>/db/{graph_name}/cpp_plugin|python_plugin/{plugin_name}</code></li>
<li><strong>METHOD</strong>: DELETE</li>
<li><strong>RESPONSE</strong>: 如果成功，返回代码 200。</li>
</ul>
<p><strong>Example request.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • DELETE http://localhost:7070/db/graph1/cpp_plugin/example_plugin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Accept: application/json; charset=UTF-8</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Example response.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • 200: OK</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="6deprecated">6.Deprecated<a href="#6deprecated" class="hash-link" aria-label="6.Deprecated的直接链接" title="6.Deprecated的直接链接">​</a></h2>
<p>以下接口将在4/30/2023之后被删除。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="61用户管理">6.1.用户管理<a href="#61用户管理" class="hash-link" aria-label="6.1.用户管理的直接链接" title="6.1.用户管理的直接链接">​</a></h3>
<p>系统默认创建一个管理员，管理员用户名为 <em>admin</em>，密码为 <em>73@TuGraph</em>。为了安全起见，请用户在第一次启动服务器后更改密码。</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="611添加用户">6.1.1.添加用户<a href="#611添加用户" class="hash-link" aria-label="6.1.1.添加用户的直接链接" title="6.1.1.添加用户的直接链接">​</a></h4>
<p>添加一个新的用户，并为其设置初始密码。只有管理员有权限进行此操作。其中用户名只能由字母，数字以及下划线构成，密码则可以包含任意字符。用户名和密码长度不能超过 64 字节。添加用户时还可以为用户增加一个描述，用户描述可以包含任意字符，最长不超过 512 字节。</p>
<p>新用户默认拥有同名的角色，不具备任何图的权限。</p>
<ul>
<li>
<p><strong>URI</strong>: <code>/user</code></p>
</li>
<li>
<p><strong>METHOD</strong>: POST</p>
</li>
<li>
<p><strong>REQUEST</strong>:</p>

























<table><thead><tr><th>域名</th><th>说明</th><th>类型</th></tr></thead><tbody><tr><td>user</td><td>用户名</td><td>字符串</td></tr><tr><td>password</td><td>密码</td><td>字符串</td></tr><tr><td>description</td><td>用户描述</td><td>字符串</td></tr></tbody></table>
</li>
<li>
<p><strong>RESPONSE</strong>: 如果成功，返回代码 200。</p>
</li>
</ul>
<p><strong>Example request.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • POST http://localhost:7070/user</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Accept: application/json; charset=UTF-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Content-Type: application/json; charset=UTF-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhZG1pbiI6dHJ1ZSwiaXNzIjoiZm1hLmFpIiwidXNlcl9pZCI6ImFkbWluIn0.SHaqrjKLaI4byjbEYVAH4D88dOTD_zYQ_uAvdizTMek</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Input:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;user&quot;: &quot;USER1&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;password&quot;: &quot;AN_INITIAL_PASSWORD&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;description&quot;: &quot;This is a user&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Example response.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • 200: OK</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="612列出所有用户">6.1.2.列出所有用户<a href="#612列出所有用户" class="hash-link" aria-label="6.1.2.列出所有用户的直接链接" title="6.1.2.列出所有用户的直接链接">​</a></h4>
<p>列出数据库的所有用户。只有管理员拥有该操作权限。</p>
<ul>
<li><strong>URI</strong>: <code>/user/</code></li>
<li><strong>METHOD</strong>: GET</li>
<li><strong>RESPONSE</strong>: 所有用户及其信息。</li>
</ul>
<p><strong>Example request.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • GET http://localhost:7070/user</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Accept: application/json; charset=UTF-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Content-Type: application/json; charset=UTF-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhZG1pbiI6dHJ1ZSwiaXNzIjoiZm1hLmFpIiwidXNlcl9pZCI6ImFkbWluIn0.SHaqrjKLaI4byjbEYVAH4D88dOTD_zYQ_uAvdizTMek</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Example response.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">• 200: OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Output:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;admin&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;disabled&quot;: false,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;description&quot;: &quot;Builtin admin user&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;roles&quot;: [&quot;admin&quot;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;guest1&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;disabled&quot;: true,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;description&quot;: &quot;&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;roles&quot;: [&quot;guest1&quot;, &quot;some_other_role&quot;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="613获取用户信息">6.1.3.获取用户信息<a href="#613获取用户信息" class="hash-link" aria-label="6.1.3.获取用户信息的直接链接" title="6.1.3.获取用户信息的直接链接">​</a></h4>
<p>列出给定用户的信息。</p>
<ul>
<li><strong>URI</strong>: <code>/user/{user_name}</code></li>
<li><strong>METHOD</strong>: GET</li>
<li><strong>RESPONSE</strong>: 用户信息。</li>
</ul>
<p><strong>Example request.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • GET http://localhost:7070/user/guest1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Accept: application/json; charset=UTF-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Content-Type: application/json; charset=UTF-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhZG1pbiI6dHJ1ZSwiaXNzIjoiZm1hLmFpIiwidXNlcl9pZCI6ImFkbWluIn0.SHaqrjKLaI4byjbEYVAH4D88dOTD_zYQ_uAvdizTMek</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Example response.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">• 200: OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Output:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;disabled&quot;: true,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;description&quot;: &quot;A guest user&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;roles&quot;: [&quot;guest1&quot;, &quot;some_other_role&quot;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="614列出用户权限">6.1.4.列出用户权限<a href="#614列出用户权限" class="hash-link" aria-label="6.1.4.列出用户权限的直接链接" title="6.1.4.列出用户权限的直接链接">​</a></h4>
<p>列出给定用户有权限访问的所有图及相应权限。</p>
<ul>
<li><strong>URI</strong>: <code>/user/{user_name}/graph</code></li>
<li><strong>METHOD</strong>: GET</li>
<li><strong>RESPONSE</strong>: 用户信息。</li>
</ul>
<p><strong>Example request.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • GET http://localhost:7070/user/guest1/graph</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Accept: application/json; charset=UTF-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Content-Type: application/json; charset=UTF-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhZG1pbiI6dHJ1ZSwiaXNzIjoiZm1hLmFpIiwidXNlcl9pZCI6ImFkbWluIn0.SHaqrjKLaI4byjbEYVAH4D88dOTD_zYQ_uAvdizTMek</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Example response.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">• 200: OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Output:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;graph1&quot; : &quot;FULL&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;graph2&quot; : &quot;READ&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="615更改用户密码">6.1.5.更改用户密码<a href="#615更改用户密码" class="hash-link" aria-label="6.1.5.更改用户密码的直接链接" title="6.1.5.更改用户密码的直接链接">​</a></h4>
<p>用户可以更改自己的密码，更改密码时需要同时提供原密码。管理员可以更改所有用户的密码。管理员更改其它用户密码时，可以不提供当前密码。</p>
<ul>
<li>
<p><strong>URI</strong>: <code>/user/{user_name}/password</code></p>
</li>
<li>
<p><strong>METHOD</strong>: PUT</p>
</li>
<li>
<p><strong>REQUEST</strong>:</p>




















<table><thead><tr><th>域名</th><th>说明</th><th>类型</th></tr></thead><tbody><tr><td>current_password</td><td>当前密码</td><td>字符串</td></tr><tr><td>new_password</td><td>新密码</td><td>字符串</td></tr></tbody></table>
</li>
<li>
<p><strong>RESPONSE</strong>: 如果成功，返回代码 200。</p>
</li>
</ul>
<p><strong>Example request.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • POST http://localhost:7070/user/user1/password</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Accept: application/json; charset=UTF-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Content-Type: application/json; charset=UTF-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhZG1pbiI6dHJ1ZSwiaXNzIjoiZm1hLmFpIiwidXNlcl9pZCI6ImFkbWluIn0.SHaqrjKLaI4byjbEYVAH4D88dOTD_zYQ_uAvdizTMek</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Input:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;current_password&quot;: &quot;THE_CURRENT_PASSWORD&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;new_password&quot;: &quot;A_NEW_PASSWORD&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Example response.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • 200: OK</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="616修改用户描述">6.1.6.修改用户描述<a href="#616修改用户描述" class="hash-link" aria-label="6.1.6.修改用户描述的直接链接" title="6.1.6.修改用户描述的直接链接">​</a></h4>
<p>用户可以修改自己的描述。管理员可以修改任意用户的描述。</p>
<ul>
<li>
<p><strong>URI</strong>: <code>/user/{user_name}/description</code></p>
</li>
<li>
<p><strong>METHOD</strong>: PUT</p>
</li>
<li>
<p><strong>REQUEST</strong>:</p>















<table><thead><tr><th>域名</th><th>说明</th><th>类型</th></tr></thead><tbody><tr><td>description</td><td>用户描述</td><td>字符串</td></tr></tbody></table>
</li>
<li>
<p><strong>RESPONSE</strong>: 如果成功，返回代码 200。</p>
</li>
</ul>
<p><strong>Example request.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • POST http://localhost:7070/user/user1/description</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Accept: application/json; charset=UTF-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Content-Type: application/json; charset=UTF-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhZG1pbiI6dHJ1ZSwiaXNzIjoiZm1hLmFpIiwidXNlcl9pZCI6ImFkbWluIn0.SHaqrjKLaI4byjbEYVAH4D88dOTD_zYQ_uAvdizTMek</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Input:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;description&quot;: &quot;New description for this user.&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Example response.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • 200: OK</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="617删除用户">6.1.7.删除用户<a href="#617删除用户" class="hash-link" aria-label="6.1.7.删除用户的直接链接" title="6.1.7.删除用户的直接链接">​</a></h4>
<p>删除用户及其所有相关权限，只有管理员拥有该操作权限。</p>
<ul>
<li><strong>URI</strong>: <code>/user/{user_name}</code></li>
<li><strong>METHOD</strong>: DELETE</li>
<li><strong>RESPONSE</strong>: 如果成功，返回代码 200。</li>
</ul>
<p><strong>Example request.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • DELETE http://localhost:7070/user/guest1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Accept: application/json; charset=UTF-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Content-Type: application/json; charset=UTF-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhZG1pbiI6dHJ1ZSwiaXNzIjoiZm1hLmFpIiwidXNlcl9pZCI6ImFkbWluIn0.SHaqrjKLaI4byjbEYVAH4D88dOTD_zYQ_uAvdizTMek</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Example response.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • 200: OK</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="618禁用用户">6.1.8.禁用用户<a href="#618禁用用户" class="hash-link" aria-label="6.1.8.禁用用户的直接链接" title="6.1.8.禁用用户的直接链接">​</a></h4>
<p>用户可以被禁用。被禁用的用户将不能登陆，但是其资料仍然保存。被禁用的用户可以被重新启用。</p>
<ul>
<li><strong>URI</strong>: <code>/user/{user_name}/disable</code></li>
<li><strong>METHOD</strong>: POST</li>
<li><strong>RESPONSE</strong>: 如果成功，返回代码 200。</li>
</ul>
<p><strong>Example request.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • POST http://localhost:7070/user/guest1/disable</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Accept: application/json; charset=UTF-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Content-Type: application/json; charset=UTF-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhZG1pbiI6dHJ1ZSwiaXNzIjoiZm1hLmFpIiwidXNlcl9pZCI6ImFkbWluIn0.SHaqrjKLaI4byjbEYVAH4D88dOTD_zYQ_uAvdizTMek</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Example response.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • 200: OK</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="619启用用户">6.1.9.启用用户<a href="#619启用用户" class="hash-link" aria-label="6.1.9.启用用户的直接链接" title="6.1.9.启用用户的直接链接">​</a></h4>
<p>启用一个被禁用的用户。</p>
<ul>
<li><strong>URI</strong>: <code>/user/{user_name}/enable</code></li>
<li><strong>METHOD</strong>: POST</li>
<li><strong>RESPONSE</strong>: 如果成功，返回代码 200。</li>
</ul>
<p><strong>Example request.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • POST http://localhost:7070/user/guest1/enable</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Accept: application/json; charset=UTF-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Content-Type: application/json; charset=UTF-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhZG1pbiI6dHJ1ZSwiaXNzIjoiZm1hLmFpIiwidXNlcl9pZCI6ImFkbWluIn0.SHaqrjKLaI4byjbEYVAH4D88dOTD_zYQ_uAvdizTMek</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Example response.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • 200: OK</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="6110设置用户角色">6.1.10.设置用户角色<a href="#6110设置用户角色" class="hash-link" aria-label="6.1.10.设置用户角色的直接链接" title="6.1.10.设置用户角色的直接链接">​</a></h4>
<p>为指定用户设置角色。只有管理员可以执行此操作。</p>
<p>用户角色列表必须是“全量列表”，即该列表需要包含该用户需要的所有角色。唯一的例外是用户的同名角色，即使列表中不含该角色，它也会被加到用户角色中。</p>
<ul>
<li><strong>URI</strong>: <code>/user/{user_name}/role</code></li>
<li><strong>METHOD</strong>: POST</li>
<li><strong>REQUEST</strong>: 角色列表</li>
<li><strong>RESPONSE</strong>: 如果成功，返回代码 200。</li>
</ul>
<p><strong>Example request.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • POST http://localhost:7070/user/guest1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Accept: application/json; charset=UTF-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Content-Type: application/json; charset=UTF-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhZG1pbiI6dHJ1ZSwiaXNzIjoiZm1hLmFpIiwidXNlcl9pZCI6ImFkbWluIn0.SHaqrjKLaI4byjbEYVAH4D88dOTD_zYQ_uAvdizTMek</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Input:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        [&quot;role1&quot;, &quot;role2&quot;]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Example response.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • 200: OK</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>此时用户<code>guest1</code>拥有角色<code>guest1</code>, <code>role1</code>和<code>role2</code>。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="62角色管理">6.2.角色管理<a href="#62角色管理" class="hash-link" aria-label="6.2.角色管理的直接链接" title="6.2.角色管理的直接链接">​</a></h3>
<p>TuGraph 使用基于角色的权限管理。</p>
<p>同一用户可以拥有多个角色。新用户默认拥有与其同名的角色。删除用户时，同名角色也会被删除。如果新建用户时同名角色已经存在，则创建失败。</p>
<p>同一角色可以对多个图有不同的权限。用户对某张图的权限由其所有角色对该图的最高权限决定。</p>
<p>TuGraph 使用四级权限，不用的用户对不同的子图可以有不同的权限，四种权限及其说明如下：</p>

























<table><thead><tr><th>权限</th><th>说明</th></tr></thead><tbody><tr><td>NONE</td><td>无权限</td></tr><tr><td>READ</td><td>只读</td></tr><tr><td>WRITE</td><td>可读写子图中的点和边</td></tr><tr><td>FULL</td><td>完全权限，包括更改元数据（label, index），管理存储过程，以及删除子图中的所有数据</td></tr></tbody></table>
<p>管理员对所有子图都有完全权限，新建的用户对所有子图都没有权限。将用户加入管理员角色中可以将用户提升为管理员。</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="621添加角色">6.2.1.添加角色<a href="#621添加角色" class="hash-link" aria-label="6.2.1.添加角色的直接链接" title="6.2.1.添加角色的直接链接">​</a></h4>
<p>添加一个新的角色，并设置其描述。只有管理员有权限进行此操作。</p>
<p>角色名只能由字母，数字以及下划线构成，密码则可以包含任意字符。角色名长度不能超过 64 字节。</p>
<p>角色描述可以是任意字符串，长度不超过 512 字节。</p>
<ul>
<li>
<p><strong>URI</strong>: <code>/role</code></p>
</li>
<li>
<p><strong>METHOD</strong>: POST</p>
</li>
<li>
<p><strong>REQUEST</strong>:</p>




















<table><thead><tr><th>域名</th><th>说明</th><th>类型</th></tr></thead><tbody><tr><td>role</td><td>角色名</td><td>字符串</td></tr><tr><td>description</td><td>角色描述</td><td>字符串</td></tr></tbody></table>
</li>
<li>
<p><strong>RESPONSE</strong>: 如果成功，返回代码 200。</p>
</li>
</ul>
<p><strong>Example request.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • POST http://localhost:7070/role</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Accept: application/json; charset=UTF-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Content-Type: application/json; charset=UTF-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhZG1pbiI6dHJ1ZSwiaXNzIjoiZm1hLmFpIiwidXNlcl9pZCI6ImFkbWluIn0.SHaqrjKLaI4byjbEYVAH4D88dOTD_zYQ_uAvdizTMek</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Input:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;role&quot;: &quot;new_role&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;description&quot;: &quot;This is a new role.&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Example response.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • 200: OK</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="622修改角色描述">6.2.2.修改角色描述<a href="#622修改角色描述" class="hash-link" aria-label="6.2.2.修改角色描述的直接链接" title="6.2.2.修改角色描述的直接链接">​</a></h4>
<p>修改角色的描述。只有管理员有权限进行此操作。角色描述可以是任意字符串，长度不超过 512 字节。</p>
<ul>
<li>
<p><strong>URI</strong>: <code>/role/{role_name}/description</code></p>
</li>
<li>
<p><strong>METHOD</strong>: PUT</p>
</li>
<li>
<p><strong>REQUEST</strong>:</p>















<table><thead><tr><th>域名</th><th>说明</th><th>类型</th></tr></thead><tbody><tr><td>description</td><td>新描述</td><td>字符串</td></tr></tbody></table>
</li>
<li>
<p><strong>RESPONSE</strong>: 如果成功，返回代码 200。</p>
</li>
</ul>
<p><strong>Example request.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • POST http://localhost:7070/role/role1/description</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Accept: application/json; charset=UTF-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Content-Type: application/json; charset=UTF-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhZG1pbiI6dHJ1ZSwiaXNzIjoiZm1hLmFpIiwidXNlcl9pZCI6ImFkbWluIn0.SHaqrjKLaI4byjbEYVAH4D88dOTD_zYQ_uAvdizTMek</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Input:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;description&quot;: &quot;modified description&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Example response.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • 200: OK</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="623列出所有角色">6.2.3.列出所有角色<a href="#623列出所有角色" class="hash-link" aria-label="6.2.3.列出所有角色的直接链接" title="6.2.3.列出所有角色的直接链接">​</a></h4>
<p>列出数据库的所有角色。只有管理员拥有该操作权限。</p>
<ul>
<li><strong>URI</strong>: <code>/role/</code></li>
<li><strong>METHOD</strong>: GET</li>
<li><strong>RESPONSE</strong>: 所有角色及其信息。</li>
</ul>
<p><strong>Example request.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • GET http://localhost:7070/role</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Accept: application/json; charset=UTF-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Content-Type: application/json; charset=UTF-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhZG1pbiI6dHJ1ZSwiaXNzIjoiZm1hLmFpIiwidXNlcl9pZCI6ImFkbWluIn0.SHaqrjKLaI4byjbEYVAH4D88dOTD_zYQ_uAvdizTMek</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Example response.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">• 200: OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Output:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;admin&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;disabled&quot;: false,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;description&quot;: &quot;Builtin administrator group.&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;permissions&quot;: {&quot;default&quot;:&quot;FULL&quot;, &quot;graph1&quot;:&quot;FULL&quot;}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;role1&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;disabled&quot;: true,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;description&quot;: &quot;Another role&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;permissions&quot;: {&quot;default&quot;:&quot;READ&quot;}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="624获取角色信息">6.2.4.获取角色信息<a href="#624获取角色信息" class="hash-link" aria-label="6.2.4.获取角色信息的直接链接" title="6.2.4.获取角色信息的直接链接">​</a></h4>
<p>列出给定角色的信息。</p>
<ul>
<li><strong>URI</strong>: <code>/role/{role_name}</code></li>
<li><strong>METHOD</strong>: GET</li>
<li><strong>RESPONSE</strong>: 角色信息。</li>
</ul>
<p><strong>Example request.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • GET http://localhost:7070/role/role1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Accept: application/json; charset=UTF-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Content-Type: application/json; charset=UTF-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhZG1pbiI6dHJ1ZSwiaXNzIjoiZm1hLmFpIiwidXNlcl9pZCI6ImFkbWluIn0.SHaqrjKLaI4byjbEYVAH4D88dOTD_zYQ_uAvdizTMek</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Example response.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">• 200: OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Output:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;disabled&quot;: true,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;description&quot;: &quot;Another role&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;permissions&quot;: {&quot;default&quot;:&quot;READ&quot;}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="625删除角色">6.2.5.删除角色<a href="#625删除角色" class="hash-link" aria-label="6.2.5.删除角色的直接链接" title="6.2.5.删除角色的直接链接">​</a></h4>
<p>删除指定角色，只有管理员拥有该操作权限。</p>
<ul>
<li><strong>URI</strong>: <code>/role/{role_name}</code></li>
<li><strong>METHOD</strong>: DELETE</li>
<li><strong>RESPONSE</strong>: 如果成功，返回代码 200。</li>
</ul>
<p><strong>Example request.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • DELETE http://localhost:7070/role/role1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Accept: application/json; charset=UTF-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Content-Type: application/json; charset=UTF-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhZG1pbiI6dHJ1ZSwiaXNzIjoiZm1hLmFpIiwidXNlcl9pZCI6ImFkbWluIn0.SHaqrjKLaI4byjbEYVAH4D88dOTD_zYQ_uAvdizTMek</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Example response.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • 200: OK</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="626禁用角色">6.2.6.禁用角色<a href="#626禁用角色" class="hash-link" aria-label="6.2.6.禁用角色的直接链接" title="6.2.6.禁用角色的直接链接">​</a></h4>
<p>角色可以被禁用。角色被禁用后，具有该角色的用户将不再从该角色中获得任何权限。只有管理员可以执行此操作。</p>
<ul>
<li><strong>URI</strong>: <code>/role/{role_name}/disable</code></li>
<li><strong>METHOD</strong>: POST</li>
<li><strong>RESPONSE</strong>: 如果成功，返回代码 200。</li>
</ul>
<p><strong>Example request.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • POST http://localhost:7070/role/role1/disable</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Accept: application/json; charset=UTF-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Content-Type: application/json; charset=UTF-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhZG1pbiI6dHJ1ZSwiaXNzIjoiZm1hLmFpIiwidXNlcl9pZCI6ImFkbWluIn0.SHaqrjKLaI4byjbEYVAH4D88dOTD_zYQ_uAvdizTMek</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Example response.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • 200: OK</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="627启用角色">6.2.7.启用角色<a href="#627启用角色" class="hash-link" aria-label="6.2.7.启用角色的直接链接" title="6.2.7.启用角色的直接链接">​</a></h4>
<p>启用一个被禁用的角色。</p>
<ul>
<li><strong>URI</strong>: <code>/role/{role_name}/enable</code></li>
<li><strong>METHOD</strong>: POST</li>
<li><strong>RESPONSE</strong>: 如果成功，返回代码 200。</li>
</ul>
<p><strong>Example request.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • POST http://localhost:7070/role/role1/enable</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Accept: application/json; charset=UTF-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Content-Type: application/json; charset=UTF-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhZG1pbiI6dHJ1ZSwiaXNzIjoiZm1hLmFpIiwidXNlcl9pZCI6ImFkbWluIn0.SHaqrjKLaI4byjbEYVAH4D88dOTD_zYQ_uAvdizTMek</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Example response.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • 200: OK</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="628设置角色权限">6.2.8.设置角色权限<a href="#628设置角色权限" class="hash-link" aria-label="6.2.8.设置角色权限的直接链接" title="6.2.8.设置角色权限的直接链接">​</a></h4>
<p>为指定角色设置权限。只有管理员可以执行此操作。</p>
<p>角色权限列表必须是“全量列表”，即该列表需要包含该角色能操作的所有图及其权限。</p>
<ul>
<li><strong>URI</strong>: <code>/role/{role_name}/permissions</code></li>
<li><strong>METHOD</strong>: POST</li>
<li><strong>REQUEST</strong>: 图名称及相应权限的字典。</li>
<li><strong>RESPONSE</strong>: 如果成功，返回代码 200。</li>
</ul>
<p><strong>Example request.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • POST http://localhost:7070/role/role1/permissions</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Accept: application/json; charset=UTF-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Content-Type: application/json; charset=UTF-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhZG1pbiI6dHJ1ZSwiaXNzIjoiZm1hLmFpIiwidXNlcl9pZCI6ImFkbWluIn0.SHaqrjKLaI4byjbEYVAH4D88dOTD_zYQ_uAvdizTMek</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Input:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;graph1&quot; : &quot;FULL&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;graph2&quot; : &quot;READ&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Example response.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • 200: OK</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="63服务器状态">6.3.服务器状态<a href="#63服务器状态" class="hash-link" aria-label="6.3.服务器状态的直接链接" title="6.3.服务器状态的直接链接">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="631修改服务器配置">6.3.1.修改服务器配置<a href="#631修改服务器配置" class="hash-link" aria-label="6.3.1.修改服务器配置的直接链接" title="6.3.1.修改服务器配置的直接链接">​</a></h4>
<p>修改服务器配置，配置修改后立即生效，并将影响所有服务器。这些配置的优先级高于配置文件以及命令行参数。</p>
<ul>
<li><strong>URI</strong>: <code>/config</code></li>
<li><strong>METHOD</strong>: PUT</li>
<li><strong>REQUEST</strong>:</li>
</ul>
<p>请求为一个字典，使用 <code>{&quot;opt1&quot;:v1}</code> 可以将名为<code>opt1</code>的配置修改为<code>v1</code>。</p>

























<table><thead><tr><th>配置名</th><th>说明</th><th>值类型</th></tr></thead><tbody><tr><td>OPT_DB_ASYNC</td><td>是否启用异步模式</td><td>布尔值</td></tr><tr><td>OPT_TXN_OPTIMISTIC</td><td>是否默认使用乐观事务锁</td><td>布尔值</td></tr><tr><td>OPT_AUDIT_LOG_ENABLE</td><td>是否启用审计日志</td><td>布尔值</td></tr></tbody></table>
<ul>
<li><strong>RESPONSE</strong>: 如果成功，返回代码 200。</li>
</ul>
<p><strong>Example request.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • PUT http://localhost:7070/config</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Accept: application/json; charset=UTF-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Content-Type: application/json</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Input:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;OPT_DB_ASYNC&quot;: true,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;OPT_AUDIT_LOG_ENABLE&quot;: false</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Example response.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • 200: OK</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="632当前服务器状态">6.3.2.当前服务器状态<a href="#632当前服务器状态" class="hash-link" aria-label="6.3.2.当前服务器状态的直接链接" title="6.3.2.当前服务器状态的直接链接">​</a></h4>
<ul>
<li><strong>URI</strong>: <code>/info</code></li>
<li><strong>METHOD</strong>: GET</li>
<li><strong>RESPONSE</strong>:





















































































<table><thead><tr><th>域名</th><th>说明</th><th>类型</th></tr></thead><tbody><tr><td>lgraph_version</td><td>服务器版本号</td><td>字符串</td></tr><tr><td>git_branch</td><td>服务器代码分支</td><td>字符串</td></tr><tr><td>git_commit</td><td>服务器代码版本</td><td>字符串</td></tr><tr><td>web_commit</td><td>前端码版本</td><td>字符串</td></tr><tr><td>cpp_id</td><td>CPP 编译器 ID</td><td>字符串</td></tr><tr><td>cpp_version</td><td>CPP 编译器版本</td><td>字符串</td></tr><tr><td>python_version</td><td>PYTHON 版本</td><td>字符串</td></tr><tr><td>node</td><td>点 uri</td><td>字符串</td></tr><tr><td>relationship</td><td>边 uri</td><td>字符串</td></tr><tr><td>cpu</td><td>cpu 信息</td><td>字典，格式参见<a href="#%E6%9C%8D%E5%8A%A1%E5%99%A8CPU%E7%8A%B6%E6%80%81">服务器 CPU 状态</a></td></tr><tr><td>disk</td><td>硬盘 IO 信息</td><td>字典，格式参见<a href="#%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%A1%AC%E7%9B%98%E7%8A%B6%E6%80%81">服务器硬盘状态</a></td></tr><tr><td>memory</td><td>内存信息</td><td>字典，格式参见<a href="#%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%86%85%E5%AD%98%E7%8A%B6%E6%80%81">服务器内存状态</a></td></tr><tr><td>db_space</td><td>图数据库占用空间</td><td>字典，格式参见<a href="#%E5%9B%BE%E6%95%B0%E6%8D%AE%E5%BA%93%E5%8D%A0%E7%94%A8%E7%A9%BA%E9%97%B4">图数据库占用空间</a></td></tr><tr><td>db_config</td><td>图数据库配置信息</td><td>字典，格式参见<a href="#%E5%9B%BE%E6%95%B0%E6%8D%AE%E5%BA%93%E9%85%8D%E7%BD%AE%E4%BF%A1%E6%81%AF">图数据库配置信息</a></td></tr><tr><td>up_time</td><td>数据库在线时长（秒）</td><td>整型</td></tr></tbody></table>
</li>
</ul>
<p><strong>Example request.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • GET http://localhost:7070/info</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Accept: application/json; charset=UTF-8</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Example response.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • 200: OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Content-Type: application/json; charset=UTF-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Output:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;lgraph_version&quot;: &quot;1.2.0&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;git_branch&quot;: &quot;master&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;git_commit&quot;: &quot;9e2977d&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;web_commit&quot;: &quot;1e2823d&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;cpu_id&quot;: &quot;GUN&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;cpu_version&quot;: &quot;4.8.5&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;python_version&quot;: &quot;3.2&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;node&quot;: &quot;/node&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;relationship&quot;: &quot;/relationship&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;cpu&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;self&quot;: 25,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;server&quot;: 35,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;unit&quot;: &quot;%&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;disk&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;read&quot;: 2000,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;write&quot;: 2000,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;unit&quot;: &quot;B/s&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;memory&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;self&quot;: 25016,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;server_avail&quot;: 46865636,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;server_total&quot;: 65860552,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;unit&quot;: &quot;KB&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;db_space&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;space&quot;: 57344,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;unit&quot;: &quot;B&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;db_config&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;db_async&quot;: false,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;disable_auth&quot;: false,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;enable_ha&quot;: false,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;up_time&quot;: 3235</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="633服务器-cpu-状态">6.3.3.服务器 CPU 状态<a href="#633服务器-cpu-状态" class="hash-link" aria-label="6.3.3.服务器 CPU 状态的直接链接" title="6.3.3.服务器 CPU 状态的直接链接">​</a></h4>
<ul>
<li><strong>URI</strong>: <code>/info/cpu</code></li>
<li><strong>METHOD</strong>: GET</li>
<li><strong>RESPONSE</strong>:

























<table><thead><tr><th>域名</th><th>说明</th><th>类型</th></tr></thead><tbody><tr><td>self</td><td>图数据库应用程序 CPU 使用率</td><td>整型</td></tr><tr><td>server</td><td>服务器 CPU 使用率</td><td>整型</td></tr><tr><td>unit</td><td>单位</td><td>字符串</td></tr></tbody></table>
</li>
</ul>
<p><strong>Example request.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • GET http://localhost:7070/info/cpu</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Accept: application/json; charset=UTF-8</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Example response.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • 200: OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Content-Type: application/json; charset=UTF-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Output:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;self&quot;: 25,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;server&quot;: 35,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;unit&quot;: &quot;%&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="634服务器硬盘状态">6.3.4.服务器硬盘状态<a href="#634服务器硬盘状态" class="hash-link" aria-label="6.3.4.服务器硬盘状态的直接链接" title="6.3.4.服务器硬盘状态的直接链接">​</a></h4>
<ul>
<li><strong>URI</strong>: <code>/info/disk</code></li>
<li><strong>METHOD</strong>: GET</li>
<li><strong>RESPONSE</strong>:

























<table><thead><tr><th>域名</th><th>说明</th><th>类型</th></tr></thead><tbody><tr><td>read</td><td>服务器硬盘读速率</td><td>整型</td></tr><tr><td>write</td><td>服务器硬盘写速率</td><td>整型</td></tr><tr><td>unit</td><td>单位</td><td>字符串</td></tr></tbody></table>
</li>
</ul>
<p><strong>Example request.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • GET http://localhost:7070/info/disk</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Accept: application/json; charset=UTF-8</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Example response.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • 200: OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Content-Type: application/json; charset=UTF-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Output:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;read&quot;: 2000,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;write&quot;: 2000,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;unit&quot;: &quot;B/s&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="635服务器内存状态">6.3.5.服务器内存状态<a href="#635服务器内存状态" class="hash-link" aria-label="6.3.5.服务器内存状态的直接链接" title="6.3.5.服务器内存状态的直接链接">​</a></h4>
<ul>
<li><strong>URI</strong>: <code>/info/memory</code></li>
<li><strong>METHOD</strong>: GET</li>
<li><strong>RESPONSE</strong>:






























<table><thead><tr><th>域名</th><th>说明</th><th>类型</th></tr></thead><tbody><tr><td>self</td><td>图数据库应用程序内存使用量</td><td>整型</td></tr><tr><td>server_avail</td><td>服务器可用内存</td><td>整型</td></tr><tr><td>server_total</td><td>服务器总内存</td><td>整型</td></tr><tr><td>unit</td><td>单位</td><td>字符串</td></tr></tbody></table>
</li>
</ul>
<p><strong>Example request.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • GET http://localhost:7070/info/memory</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Accept: application/json; charset=UTF-8</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Example response.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • 200: OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Content-Type: application/json; charset=UTF-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Output:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;self&quot;: 25016,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;server_avail&quot;: 46865636,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;server_total&quot;: 65860552,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;unit&quot;: &quot;KB&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="636图数据库占用空间">6.3.6.图数据库占用空间<a href="#636图数据库占用空间" class="hash-link" aria-label="6.3.6.图数据库占用空间的直接链接" title="6.3.6.图数据库占用空间的直接链接">​</a></h4>
<ul>
<li><strong>URI</strong>: <code>/info/db_space</code></li>
<li><strong>METHOD</strong>: GET</li>
<li><strong>RESPONSE</strong>:






























<table><thead><tr><th>域名</th><th>说明</th><th>类型</th></tr></thead><tbody><tr><td>space</td><td>图数据库占用空间</td><td>整型</td></tr><tr><td>disk_avail</td><td>图数据库可用空间</td><td>整型</td></tr><tr><td>disk_total</td><td>服务器硬盘总空间</td><td>整型</td></tr><tr><td>unit</td><td>单位</td><td>字符串</td></tr></tbody></table>
</li>
</ul>
<p><strong>Example request.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • GET http://localhost:7070/info/db_space</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Accept: application/json; charset=UTF-8</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Example response.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • 200: OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Content-Type: application/json; charset=UTF-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Output:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;disk_avail&quot;::360074579968,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;disk_total&quot;::984373800960,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;space&quot;: 57344,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;unit&quot;: &quot;B&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="637图数据库配置信息">6.3.7.图数据库配置信息<a href="#637图数据库配置信息" class="hash-link" aria-label="6.3.7.图数据库配置信息的直接链接" title="6.3.7.图数据库配置信息的直接链接">​</a></h4>
<ul>
<li><strong>URI</strong>: <code>/info/db_config</code></li>
<li><strong>METHOD</strong>: GET</li>
<li><strong>RESPONSE</strong>:






































































<table><thead><tr><th>域名</th><th>说明</th><th>类型</th></tr></thead><tbody><tr><td>db_async</td><td>图数据库工作模式（同步或异步）</td><td> 布尔值</td></tr><tr><td>disable_auth</td><td>是否禁用身份验证</td><td>布尔值</td></tr><tr><td>enable_ha</td><td>是否启用高可用模式</td><td>布尔值</td></tr><tr><td>enable_rpc</td><td>是否启用 RPC 服务器</td><td>布尔值</td></tr><tr><td>bind_host</td><td>REST 服务器的主机</td><td>字符串</td></tr><tr><td>enable_audit_log</td><td>是否启用日志审计</td><td>布尔值</td></tr><tr><td>port</td><td>REST 服务器的端口</td><td>整型</td></tr><tr><td>rpc_port</td><td>RPC 服务器的端口</td><td>整型</td></tr><tr><td>optimistic_txn</td><td>是否默认使用乐观事务锁</td><td>布尔值</td></tr><tr><td>thread_limit</td><td>图数据库应用程序的可用线程数</td><td>整型</td></tr><tr><td>enable_ssl</td><td>是否使用 SSL 进行身份验证</td><td>布尔值</td></tr><tr><td>verbose</td><td>输出的详细程度</td><td>整型</td></tr></tbody></table>
</li>
</ul>
<p><strong>Example request.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • GET http://localhost:7070/info/db_config</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Accept: application/json; charset=UTF-8</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Example response.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • 200: OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Content-Type: application/json; charset=UTF-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Output:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;db_async&quot;:false,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;disable_auth&quot;:false,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;enable_ha&quot;:false,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;enable_rpc&quot;:false,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;bind_host&quot;:&quot;127.0.0.1&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;enable_audit_log&quot;:false,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;port&quot;:7070,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;optimistic_txn&quot;:false,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;rpc_port&quot;:9091,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;thread_limit&quot;:0,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;enable_ssl&quot;:false,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;verbose&quot;:2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="638高可用服务器列表">6.3.8.高可用服务器列表<a href="#638高可用服务器列表" class="hash-link" aria-label="6.3.8.高可用服务器列表的直接链接" title="6.3.8.高可用服务器列表的直接链接">​</a></h4>
<p><em>(仅在高可用模式下有效)</em></p>
<ul>
<li><strong>URI</strong>: <code>/info/peers</code></li>
<li><strong>METHOD</strong>: GET</li>
<li><strong>RESPONSE</strong>: 如果成功，则返回 200 代码，并返回一个服务器信息列表，其中每个服务器信息格式为：

























<table><thead><tr><th>域名</th><th>说明</th><th>类型</th></tr></thead><tbody><tr><td>rpc_address</td><td>服务器 RPC 地址</td><td>字符串</td></tr><tr><td>rest_address</td><td>服务器 REST 地址</td><td>字符串</td></tr><tr><td>state</td><td>服务器状态</td><td>字符串</td></tr></tbody></table>
</li>
</ul>
<p>其中服务器状态可为 <code>MASTER</code>,<code>SLAVE</code>,<code>OFFLINE</code>。</p>
<p><strong>Example request.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • GET http://localhost:7070/info/peers</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Accept: application/json; charset=UTF-8</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Example response.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • 200: OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Content-Type: application/json; charset=UTF-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Output:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              &quot;rest_address&quot;:&quot;192.168.1.22:17071&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              &quot;rpc_address&quot;:&quot;192.168.1.22:19091&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              &quot;state&quot;:&quot;MASTER&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              &quot;rest_address&quot;:&quot;192.168.1.22:17072&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              &quot;rpc_address&quot;:&quot;192.168.1.22:19092&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              &quot;state&quot;:&quot;SLAVE&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="639当前-leader-信息">6.3.9.当前 Leader 信息<a href="#639当前-leader-信息" class="hash-link" aria-label="6.3.9.当前 Leader 信息的直接链接" title="6.3.9.当前 Leader 信息的直接链接">​</a></h4>
<p><em>(仅在高可用模式下有效)</em></p>
<ul>
<li><strong>URI</strong>: <code>/info/leader</code></li>
<li><strong>METHOD</strong>: GET</li>
<li><strong>RESPONSE</strong>: 如果成功，则返回 200 代码，并返回当前 leader 服务器信息，格式为：




















<table><thead><tr><th>域名</th><th>说明</th><th>类型</th></tr></thead><tbody><tr><td>rpc_address</td><td>服务器 RPC 地址</td><td>字符串</td></tr><tr><td>rest_address</td><td>服务器 REST 地址</td><td>字符串</td></tr></tbody></table>
</li>
</ul>
<p><strong>Example request.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • GET http://localhost:7070/info/leader</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Accept: application/json; charset=UTF-8</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Example response.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • 200: OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Content-Type: application/json; charset=UTF-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Output:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;rest_address&quot;:&quot;192.168.1.22:17071&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;rpc_address&quot;:&quot;192.168.1.22:19091&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="6310服务器统计信息">6.3.10.服务器统计信息<a href="#6310服务器统计信息" class="hash-link" aria-label="6.3.10.服务器统计信息的直接链接" title="6.3.10.服务器统计信息的直接链接">​</a></h4>
<ul>
<li><strong>URI</strong>: <code>/info/statistics</code></li>
<li><strong>METHOD</strong>: GET</li>
<li><strong>RESPONSE</strong>: 如果成功，则返回 200 代码，并返回当前服务器统计信息，格式为：






























<table><thead><tr><th>域名</th><th>说明</th><th>类型</th></tr></thead><tbody><tr><td>requests/second</td><td>每秒处理的请求数量</td><td>浮点型</td></tr><tr><td>writes/second</td><td>每秒处理的写请求数量</td><td>浮点型</td></tr><tr><td>running_tasks</td><td>正在执行的请求数量</td><td>整型</td></tr><tr><td>failure_rate</td><td>请求失败率</td><td>浮点型</td></tr></tbody></table>
</li>
</ul>
<p><strong>Example request.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • GET http://localhost:7070/info/statistics</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Accept: application/json; charset=UTF-8</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Example response.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • 200: OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Content-Type: application/json; charset=UTF-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Output:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;failure_rate&quot;: 2.3,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;requests/second&quot;: 122.3,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;running_tasks&quot;: 10,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;writes/second&quot;: 12.4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="6311审计日志信息">6.3.11.审计日志信息<a href="#6311审计日志信息" class="hash-link" aria-label="6.3.11.审计日志信息的直接链接" title="6.3.11.审计日志信息的直接链接">​</a></h4>
<ul>
<li>
<p><strong>URI</strong>: <code>/info/log/?begin_time={begin_time}&amp;end_time={end_time}&amp;user={user}&amp;num_log={num_log}&amp;descending_order={descending_order}</code></p>



































<table><thead><tr><th>域名</th><th>说明</th><th>类型</th></tr></thead><tbody><tr><td>begin_time</td><td>查询日志的起始时间(必填，格式为 YYYY-mm-dd HH:MM:SS)</td><td>时间戳</td></tr><tr><td>end_time</td><td>查询日志的结束时间(默认为当前时间，格式为 YYYY-mm-dd HH:MM:SS)</td><td>时间戳</td></tr><tr><td>user</td><td>查询日志的操作者(管理员可查询所有用户的日志，普通用户只能查询本人日志)</td><td>字符串</td></tr><tr><td>num_log</td><td>查询日志的数量(默认为 100)</td><td>整型</td></tr><tr><td>descending_order</td><td>查询结果是否降序输出(默认为 true)</td><td>布尔值</td></tr></tbody></table>
</li>
<li>
<p><strong>METHOD</strong>: GET</p>
</li>
<li>
<p><strong>RESPONSE</strong>: 如果成功，则返回 200 代码，并返回审计日志列表，其中每个元素是一条操作日志，其格式为：</p>























































<table><thead><tr><th>域名</th><th>说明</th><th>类型</th></tr></thead><tbody><tr><td>index</td><td>该操作的索引值</td><td>整型</td></tr><tr><td>begin_time</td><td>该操作的开始时间</td><td>字符串</td></tr><tr><td>end_time</td><td>该操作的结束时间</td><td>字符串</td></tr><tr><td>user</td><td>该操作的发 起者</td><td>字符串</td></tr><tr><td>graph</td><td>该操作的图</td><td>字符串</td></tr><tr><td>type</td><td>该操作的类型</td><td>字符串</td></tr><tr><td>read_write</td><td>该操作为读操作或者写操作</td><td>字符串</td></tr><tr><td>success</td><td>该操作是否成功</td><td>布尔值</td></tr><tr><td>content</td><td>该操作的简要内容</td><td>字符串</td></tr></tbody></table>
</li>
</ul>
<p><strong>Example request.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • GET http://localhost:7070/info/log/?begin_time=2020-02-17%2015:00:00&amp;end_time=2020-02-20%2012:00:00&amp;user=admin&amp;num_log=100&amp;descending_order=false</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Accept: application/json; charset=UTF-8</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Example response.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • 200: OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Content-Type: application/json; charset=UTF-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Output:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;begin_time&quot;: &quot;2020-02-17 15:27:15&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;content&quot;: &quot;post /login    Successful&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;end_time&quot;: &quot;2020-02-17 15:27:15&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;graph&quot;: &quot;&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;index&quot;: 1,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;read_write&quot;: &quot;read&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;success&quot;: true,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;type&quot;: &quot;Security&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;user&quot;:&quot;admin&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;begin_time&quot;: &quot;2020-02-17 15:27:15&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;content&quot;: &quot;Load plugin : `echo`    Successful&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;end_time&quot;: &quot;2020-02-17 15:27:15&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;graph&quot;: &quot;default&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;index&quot;: 2,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;read_write&quot;: &quot;write&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;success&quot;: true,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;type&quot;: &quot;Plugin&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;user&quot;: &quot;admin&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="64任务管理">6.4.任务管理<a href="#64任务管理" class="hash-link" aria-label="6.4.任务管理的直接链接" title="6.4.任务管理的直接链接">​</a></h3>
<p>TuGraph 提供长任务的跟踪和中止功能。用户可以通过 REST API 来查询当前正在运行的在 Cypher 和存储过程查询，并选择中止正在执行的查询。</p>
<p>任务管理对应的 URI 格式为</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    http://{host}:{port}/task/{thread_id}/{task_id}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="641查询正在执行的任务">6.4.1.查询正在执行的任务<a href="#641查询正在执行的任务" class="hash-link" aria-label="6.4.1.查询正在执行的任务的直接链接" title="6.4.1.查询正在执行的任务的直接链接">​</a></h4>
<ul>
<li><strong>URI</strong>: <code>/task</code></li>
<li><strong>METHOD</strong>: GET</li>
<li><strong>RESPONSE</strong>:</li>
</ul>
<p>返回的 JSON 为一个数组，其中每一个元素格式如下：</p>

























<table><thead><tr><th>域名</th><th>说明</th><th>类型</th></tr></thead><tbody><tr><td>description</td><td>任务描述</td><td>字符串</td></tr><tr><td>time_elapsed</td><td>任务已经执行的时间，单位为秒</td><td>浮点</td></tr><tr><td>task_id</td><td>任务 ID</td><td>字符串</td></tr></tbody></table>
<p><strong>Example request.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • GET http://localhost:7070/task</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Accept: application/json; charset=UTF-8</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Example response.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • 200: OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Content-Type: application/json; charset=UTF-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Output:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;description&quot; : &quot;[CPP_PLUGIN] scan_graph&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;time_elapsed&quot; : 13.987,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;task_id&quot; : &quot;3_10&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;description&quot; : &quot;[CYPHER] MATCH(n) return n&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;time_elapsed&quot; : 30.887,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;task_id&quot; : &quot;2_6&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="642中止任务">6.4.2.中止任务<a href="#642中止任务" class="hash-link" aria-label="6.4.2.中止任务的直接链接" title="6.4.2.中止任务的直接链接">​</a></h4>
<ul>
<li><strong>URI</strong>: <code>/task/{task_id}</code>
其中 <code>{task_id}</code> 是 <code>GET /task</code> 返回结果中的 <code>task_id</code>。</li>
<li><strong>METHOD</strong>: DELETE</li>
<li><strong>RESPONSE</strong>: 如果成功，返回代码 200。</li>
</ul>
<p><strong>Example request.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • DELETE http://localhost:7070/task/3_10</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Accept: application/json; charset=UTF-8</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Example response.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • 200: OK</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="65子图管理">6.5.子图管理<a href="#65子图管理" class="hash-link" aria-label="6.5.子图管理的直接链接" title="6.5.子 图管理的直接链接">​</a></h3>
<p>TuGraph 支持多子图，子图之间完全独立，不同的子图可以对不同用户开放不同权限。管理员可以添加和删除子图。</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="651创建新子图">6.5.1.创建新子图<a href="#651创建新子图" class="hash-link" aria-label="6.5.1.创建新子图的直接链接" title="6.5.1.创建新子图的直接链接">​</a></h4>
<ul>
<li>
<p><strong>URI</strong>: <code>/db</code></p>
</li>
<li>
<p><strong>METHOD</strong>: POST</p>
</li>
<li>
<p><strong>REQUEST</strong>:</p>




















<table><thead><tr><th>域名</th><th>说明</th><th>类型</th></tr></thead><tbody><tr><td>name</td><td>子图名</td><td>字符串</td></tr><tr><td>config</td><td>配置</td><td>字典，格式为 { {列名 1}:{列值 1},... }</td></tr></tbody></table>
</li>
<li>
<p><strong>RESPONSE</strong>: 如果成功，返回代码 200。</p>
</li>
</ul>
<p><strong>Example request.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • POST http://localhost:7070/db</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Accept: application/json; charset=UTF-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Content-Type: application/json</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Input:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;name&quot;:&quot;graph1&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;config&quot; : {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;max_size_GB&quot;:2048,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;description&quot;: &quot;description of graph1&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Example response.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • 200: OK</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="652删除子图">6.5.2.删除子图<a href="#652删除子图" class="hash-link" aria-label="6.5.2.删除子图的直接链接" title="6.5.2.删除子图的直接链接">​</a></h4>
<ul>
<li><strong>URI</strong>: <code>/db/{graph_name}</code></li>
<li><strong>METHOD</strong>: DELETE</li>
<li><strong>RESPONSE</strong>: 如果成功，返回代码 200。</li>
</ul>
<p><strong>Example request.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • DELETE http://localhost:7070/db/graph1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Example response.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • 200: OK</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="653列出所有子图">6.5.3.列出所有子图<a href="#653列出所有子图" class="hash-link" aria-label="6.5.3.列出所有子图的直接链接" title="6.5.3.列出所有子图的直接链接">​</a></h4>
<ul>
<li><strong>URI</strong>: <code>/db</code></li>
<li><strong>METHOD</strong>: GET</li>
<li><strong>RESPONSE</strong>: 子图列表</li>
</ul>
<p><strong>Example request.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • GET http://localhost:7070/db</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Example response.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • 200: OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Content-Type: application/json; charset=UTF-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Output:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;graph1&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;max_size_GB&quot;:1024,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;description&quot;:&quot;description of graph1&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="654获取子图信息">6.5.4.获取子图信息<a href="#654获取子图信息" class="hash-link" aria-label="6.5.4.获取子图信息的直接链接" title="6.5.4.获取子图信息的直接链接">​</a></h4>
<ul>
<li><strong>URI</strong>: <code>/db/{graph_name}</code></li>
<li><strong>METHOD</strong>: GET</li>
<li><strong>RESPONSE</strong>: 子图列表</li>
</ul>
<p><strong>Example request.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • GET http://localhost:7070/db/graph1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Example response.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • 200: OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Content-Type: application/json; charset=UTF-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Output:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;max_size_GB&quot;:1024,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;description&quot;:&quot;description of graph1&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="66元数据管理">6.6.元数据管理<a href="#66元数据管理" class="hash-link" aria-label="6.6.元数据管理的直接链接" title="6.6.元数据管理的直接链接">​</a></h3>
<p>TuGraph 是一个具备多图能力的强模式属性图数据库。在每一张子图中，每种点和边都需要有预定义的数据格式。数据格式由 Label 决定，每种 Label 都有自己的数据格式。用户可以使用 REST API 添加，删除和查询 Label 及其对应的数据格式。</p>
<p>Label 操作对应的 URI 格式为</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    http://{host}:{port}/db/{graph_name}/label/{type}/{label_name}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>其中{type}可以是 node 或者 relationship。</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="661创建label">6.6.1.创建Label<a href="#661创建label" class="hash-link" aria-label="6.6.1.创建Label的直接链接" title="6.6.1.创建Label的直接链接">​</a></h4>
<p>创建 Label 的过程同时也是定义其数据类型的过程。只有创建了 Label 才能在图中插入相应类型的点或者边。</p>
<ul>
<li><strong>URI</strong>: <code>/db/{graph_name}/label</code></li>
<li><strong>METHOD</strong>: POST</li>
<li><strong>REQUEST</strong>:



































<table><thead><tr><th>域名</th><th>说明</th><th>类型</th></tr></thead><tbody><tr><td>name</td><td>Label 名</td><td>字符串</td></tr><tr><td>fields</td><td>数据列定义</td><td>列表</td></tr><tr><td>is_vertex</td><td>是否是点 Label</td><td>布尔值</td></tr><tr><td>primary</td><td>点的主键属性</td><td>字符串</td></tr><tr><td>edge_constraints</td><td>边的约束</td><td>列表</td></tr></tbody></table>
</li>
</ul>
<p><code>primary</code> 在 <code>is_vertex</code> 为 <code>true</code> 的时候设置，这个字段只有点才有, 创建点的时候必须设置。</p>
<p><code>edge_constraints</code> 在 <code>is_vertex</code> 为 <code>false</code> 的时候设置，这个字段只有边有。这个字段限制了该边的起点和终点只能是哪些点的组合，比如：<code>[[&quot;vertex_label1&quot;,&quot;vertex_label2&quot;],[&quot;vertex_label3&quot;,&quot;vertex_label4&quot;]]</code>，限制了该边只能是从 <code>vertex_label1</code> 到 <code>vertex_label2</code> 和 从 <code>vertex_label3</code> 到 <code>vertex_label4</code>。如果不想有任何限制，不设置该字段即可。</p>
<p>其中<code>fields</code>为一个数组，其中每个元素定义数据的一列，内容如下：</p>

























<table><thead><tr><th>域名</th><th>说明</th><th>类型</th></tr></thead><tbody><tr><td>name</td><td>列名</td><td>字符串</td></tr><tr><td>type</td><td>列数据类型</td><td>字符串，有以下类型： int8, int16, int32, int64, float, double, string, date, datetime, binary, bool</td></tr><tr><td>optional</td><td>数据是否可以为空（可选，缺省值为 false）</td><td>布尔值</td></tr></tbody></table>
<ul>
<li><strong>RESPONSE</strong>: 如果成功，返回代码 200。</li>
</ul>
<p><strong>Example request.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • POST http://localhost:7070/db/{graph_name}/label</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Accept: application/json; charset=UTF-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Content-Type: application/json</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Input:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;name&quot;:&quot;Actor&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;fields&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                {&quot;name&quot;:&quot;uid&quot;, &quot;type&quot;:&quot;int64&quot;, &quot;optional&quot;:false},</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                {&quot;name&quot;:&quot;name&quot;, &quot;type&quot;:&quot;string&quot;, &quot;optional&quot;:true}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;is_vertex&quot;:true,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;primary&quot; : &quot;uid&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Example response.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • 200: OK</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="662列出所有-label">6.6.2.列出所有 Label<a href="#662列出所有-label" class="hash-link" aria-label="6.6.2.列出所有 Label的直接链接" title="6.6.2.列出所有 Label的直接链接">​</a></h4>
<ul>
<li><strong>URI</strong>: <code>/db/{graph_name}/label</code></li>
<li><strong>METHOD</strong>: GET</li>
<li><strong>RESPONSE</strong>:




















<table><thead><tr><th>域名</th><th>说明</th><th>类型</th></tr></thead><tbody><tr><td>edge</td><td>边 Label 列表</td><td>列表</td></tr><tr><td>vertex</td><td>点 Label 列表</td><td>列表</td></tr></tbody></table>
</li>
</ul>
<p><strong>Example request.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • GET http://localhost:7070/db/{graph_name}/label</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Accept: application/json; charset=UTF-8</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Example response.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • 200: OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Content-Type: application/json; charset=UTF-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Output:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;edge&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;HAS_CHILD&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;MARRIED&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;BORN_IN&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;DIRECTED&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;WROTE_MUSIC_FOR&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;ACTED_IN&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;vertex&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;Person&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;City&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;Film&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="663获取-label-的数据格式定义">6.6.3.获取 Label 的数据格式定义<a href="#663获取-label-的数据格式定义" class="hash-link" aria-label="6.6.3.获取 Label 的数据格式定义的直接链接" title="6.6.3.获取 Label 的数据格式定义的直接链接">​</a></h4>
<ul>
<li><strong>URI</strong>: <code>/db/{graph_name}/label/{[node|relationship]}/{label_name}</code></li>
<li><strong>METHOD</strong>: GET</li>
<li><strong>RESPONSE</strong>: 数据列定义表，类型是一个词典，key 为列名，value 为列定义，列定义见如下：</li>
<li></li>
</ul>




















<table><thead><tr><th>域名</th><th>说明</th><th>类型</th></tr></thead><tbody><tr><td>optional</td><td>该列值是否可为空</td><td>布尔值</td></tr><tr><td>type</td><td>列值类型</td><td>字符串</td></tr></tbody></table>
<p><strong>Example request.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • GET http://localhost:7070/db/{graph_name}/label/node/person</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Accept: application/json; charset=UTF-8</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Example response.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • 200: OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Content-Type: application/json; charset=UTF-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Output:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;age&quot;:{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;optional&quot;:false,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;type&quot;:&quot;int16&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;id&quot;:{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;optional&quot;:false,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;type&quot;:&quot;int8&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;name&quot;:{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;optional&quot;:false,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;type&quot;:&quot;string&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="664schema-导入">6.6.4.Schema 导入<a href="#664schema-导入" class="hash-link" aria-label="6.6.4.Schema 导入的直接链接" title="6.6.4.Schema 导入的直接链接">​</a></h4>
<ul>
<li><strong>URI</strong>: <code>/db/{graph_name}/schema/text</code></li>
<li><strong>METHOD</strong>: POST</li>
<li><strong>REQUEST</strong>:















<table><thead><tr><th>域名</th><th>说明</th><th>类型</th></tr></thead><tbody><tr><td>description</td><td>文件内容描述</td><td>字符串</td></tr></tbody></table>
</li>
</ul>
<p>description 的具体描述方法见《TuGraph 操作手册》中数据导入配置文件的相关内容。</p>
<ul>
<li><strong>RESPONSE</strong>:</li>
</ul>
<p>Schema 导入会根据 description 比较新的 Schema 和数据库中原有的 Schema 是否兼容，检查的粒度为 Label。如果不一致则出错，如果一致则添加原先 Schema 中不存在的 Label，返回 200。</p>
<p><strong>Example request.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • POST http://localhost:7070/db/graph1/schema/text</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Accept: application/json; charset=UTF-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Content-Type: application/json; charset=UTF-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Input:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;description&quot;: &quot;{\\&quot;schema\\&quot;:[{\\&quot;label\\&quot;:\\&quot;actor\\&quot;,\\&quot;primary\\&quot;:\\&quot;aid\\&quot;,\\&quot;properties\\&quot;:[{\\&quot;name\\&quot;:\\&quot;aid\\&quot;,\\&quot;type\\&quot;:\\&quot;STRING\\&quot;}],\\&quot;type\\&quot;:\\&quot;VERTEX\\&quot;}]}&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>上述 description 的值是如  下 json 序列化后的字符串:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;schema&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;label&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;actor&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;type&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;VERTEX&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;properties&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token property" style="color:#36acaa">&quot;name&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;aid&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token property" style="color:#36acaa">&quot;type&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;STRING&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;primary&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;aid&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Example response.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • 200: OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Output:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;log&quot;: &quot;&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="67点操作">6.7.点操作<a href="#67点操作" class="hash-link" aria-label="6.7.点操作的直接链接" title="6.7.点操作的直接链接">​</a></h3>
<p>URI 格式为</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    http://{host}:{port}/db/{graph_name}/node/{vid}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Nodes 提供节点（Vertex）的 CRUD 操作，接受 GET/POST/PUT/DELETE 请求。</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="671列出点数量和label数量">6.7.1.列出点数量和label数量<a href="#671列出点数量和label数量" class="hash-link" aria-label="6.7.1.列出点数量和label数量的直接链接" title="6.7.1.列出点数量和label数量的直接链接">​</a></h4>
<ul>
<li><strong>URI</strong>: <code>/db/{graph_name}/node</code></li>
<li><strong>METHOD</strong>: GET</li>
<li><strong>RESPONSE</strong>:




















<table><thead><tr><th>域名</th><th>说明</th><th>类型</th></tr></thead><tbody><tr><td>num_label</td><td>点 label 数量</td><td> 整数</td></tr><tr><td>num_vertex</td><td>点数量</td><td>整数</td></tr></tbody></table>
</li>
</ul>
<p><em>注意 num_vertex 返回的并不是准确的点数量，只是一个估计值。</em></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="672创建一个点">6.7.2.创建一个点<a href="#672创建一个点" class="hash-link" aria-label="6.7.2.创建一个点的直接链接" title="6.7.2.创建一个点的直接链接">​</a></h4>
<p>向数据库中插入一个点。</p>
<ul>
<li>
<p><strong>URI</strong>: <code>/db/{graph_name}/node</code></p>
</li>
<li>
<p><strong>METHOD</strong>: POST</p>
</li>
<li>
<p><strong>REQUEST</strong>:</p>




















<table><thead><tr><th>域名</th><th>说明</th><th>类型</th></tr></thead><tbody><tr><td>label</td><td>Label 名</td><td>字符串</td></tr><tr><td>property</td><td>点属性</td><td>字典，其中 key 是列名，value 是相应值。value 必须是与列类型相应的类型，如列为 int32，则 value 只能是整数。</td></tr></tbody></table>
</li>
<li>
<p><strong>RESPONSE</strong>: 如果成功，返回代码 200。并在 JSON 内容中返回新点 vid。该 ID 可用于后续的点操作中。</p>
</li>
</ul>
<p><strong>Example request.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • POST http://localhost:7070/db/{graph_name}/node</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Accept: application/json; charset=UTF-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Content-Type: application/json</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Input:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;label&quot; : &quot;Person&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;property&quot; : {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;name&quot; : &quot;Passerby A&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;birthyear&quot; : 1989</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Example response.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • 200: OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Content-Type: application/json; charset=UTF-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Output:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        21</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="673批量创建点">6.7.3.批量创建点<a href="#673批量创建点" class="hash-link" aria-label="6.7.3.批量创建点的直接链接" title="6.7.3.批量创建点的直接链接">​</a></h4>
<p>TuGraph 允许一次性插入多个点，以减少网络开销。</p>
<ul>
<li><strong>URI</strong>: <code>/db/{graph_name}/node</code></li>
<li><strong>METHOD</strong>: POST</li>
<li><strong>REQUEST</strong>:

























<table><thead><tr><th>域名</th><th>说明</th><th>类型</th></tr></thead><tbody><tr><td>label</td><td>Label 名</td><td>字符串</td></tr><tr><td>fields</td><td>点属性</td><td>列表</td></tr><tr><td>values</td><td>点数据</td><td>列表</td></tr></tbody></table>
</li>
</ul>
<p>其中 fields 是一个字符串列表，列出一系列列名；values 是一个列表，其中每个元素是一个列表，列表中每个元素是列数据。</p>
<ul>
<li><strong>RESPONSE</strong>: 如果成功，返回代码 200。并 在 JSON 内容中返回新增加的点的 vid 列表，该列表中每一个 vid 按顺序对应请求中的每一个点。</li>
</ul>
<p><strong>Example request.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • POST http://localhost:7070/db/{graph_name}/node</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Accept: application/json; charset=UTF-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Content-Type: application/json</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Input:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;label&quot; : &quot;Person&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;fields&quot; : [&quot;name&quot;, &quot;birthyear&quot;],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;values&quot; : [[&quot;alex&quot;, 2000],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    [&quot;bob&quot;, 1999]]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Example response.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • 200: OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Content-Type: application/json; charset=UTF-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Output:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            22,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            23</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="674获取点">6.7.4.获取点<a href="#674获取点" class="hash-link" aria-label="6.7.4.获取点的直接链接" title="6.7.4.获取点的直接链接">​</a></h4>
<ul>
<li><strong>URI</strong>: <code>/db/{graph_name}/node/{vertex_id}</code></li>
<li><strong>METHOD</strong>: GET</li>
<li><strong>RESPONSE</strong>:




















<table><thead><tr><th>域名</th><th>说明</th><th>类型</th></tr></thead><tbody><tr><td>label</td><td>Label 名</td><td>字符串</td></tr><tr><td>property</td><td>属性</td><td>字典，格式为 { {列名 1}:{列值 1},...}</td></tr></tbody></table>
</li>
</ul>
<p><strong>Example request.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • GET http://localhost:7070/db/{graph_name}/node/5</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Accept: application/json; charset=UTF-8</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Example response.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • 200: OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Content-Type: application/json; charset=UTF-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Output:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;property&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;birthyear&quot;: 1963,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;name&quot;: &quot;Natasha Richardson&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;label&quot;: &quot;Person&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="675删除点">6.7.5.删除点<a href="#675删除点" class="hash-link" aria-label="6.7.5.删除点的直接链接" title="6.7.5.删除点的直接链接">​</a></h4>
<ul>
<li><strong>URI</strong>: <code>/db/{graph_name}/node/{vertex_id}</code></li>
<li><strong>METHOD</strong>: DELETE</li>
<li><strong>RESPONSE</strong>: 如果成功，返回代码 200。




















<table><thead><tr><th>域名</th><th>说明</th><th>类型</th></tr></thead><tbody><tr><td>in</td><td>被删掉的点的入边数量</td><td>整数值</td></tr><tr><td>out</td><td>被删掉的点的出边数量</td><td>整数值</td></tr></tbody></table>
</li>
</ul>
<p><strong>Example request.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • DELETE http://localhost:7070/db/{graph_name}/node/4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Accept: application/json; charset=UTF-8</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Example response.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • 200: OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Content-Type: application/json; charset=UTF-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Output:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;in&quot;: 0,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;out&quot;: 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="676获取点所有属性">6.7.6.获取点所有属性<a href="#676获取点所有属性" class="hash-link" aria-label="6.7.6.获取点所有属性的直接链接" title="6.7.6.获取点所有属性的直接链接">​</a></h4>
<ul>
<li><strong>URI</strong>: <code>/db/{graph_name}/node/{vertex_id}/property</code></li>
<li><strong>METHOD</strong>: GET</li>
<li><strong>RESPONSE</strong>: Node 所有属性（字典）</li>
</ul>
<p><strong>Example request.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • GET http://localhost:7070/db/{graph_name}/node/5/property</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Accept: application/json; charset=UTF-8</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Example response.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • 200: OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Content-Type: application/json; charset=UTF-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Output:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;birthyear&quot;: 1963,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;name&quot;: &quot;Natasha Richardson&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="677获取点属性">6.7.7.获取点属性<a href="#677获取点属性" class="hash-link" aria-label="6.7.7.获取点属性的直接链接" title="6.7.7.获取点属性的直接链接">​</a></h4>
<ul>
<li><strong>URI</strong>: <code>/db/{graph_name}/node/{vertex_id}/property/{field}</code></li>
<li><strong>METHOD</strong>: GET</li>
<li><strong>RESPONSE</strong>: Node 某一属性</li>
</ul>
<p><strong>Example request.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • GET http://localhost:7070/db/{graph_name}/node/5/property/name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Accept: application/json; charset=UTF-8</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Example response.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • 200: OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Content-Type: application/json; charset=UTF-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Output:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;Natasha Richardson&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="678更新点属性">6.7.8.更新点属性<a href="#678更新点属性" class="hash-link" aria-label="6.7.8.更新点属性的直接链接" title="6.7.8.更新点属性的直接链接">​</a></h4>
<ul>
<li>
<p><strong>URI</strong>: <code>/db/{graph_name}/node/{vertex_id}</code></p>
</li>
<li>
<p><strong>METHOD</strong>: PUT</p>
</li>
<li>
<p><strong>REQUEST</strong>:</p>















<table><thead><tr><th>域名</th><th>说明</th><th>类型</th></tr></thead><tbody><tr><td>property</td><td>点属性</td><td>字典</td></tr></tbody></table>
</li>
<li>
<p><strong>RESPONSE</strong>: 如果成功，返回代码 200。</p>
</li>
</ul>
<p><strong>Example request.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • PUT http://localhost:7070/db/{graph_name}/node/5</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Accept: application/json; charset=UTF-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Content-Type: application/json</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Input:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;property&quot; : {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;birthyear&quot; : 1964,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;mobile&quot; : &quot;********&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Example response.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • 200: OK</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="68边操作">6.8.边操作<a href="#68边操作" class="hash-link" aria-label="6.8.边操作的直接链接" title="6.8.边操作的直接链接">​</a></h3>
<p>URI 格式为</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    http://{host}:{port}/db/{graph_name}/relationship/{euid}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>与 Nodes 功能类似，Relationships 提供边（edge）的 CRUD 操作，接受 GET/POST/PUT/DELETE 请求。每一条边都可以由一个唯一 ID（euid）来标识。这个 ID 可以从在插入边时获得，或者在 <a href="#%E5%88%97%E5%87%BA%E6%89%80%E6%9C%89%E8%BE%B9">列出所有边</a> 操作中得到。</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="681创建一条边">6.8.1.创建一条边<a href="#681创 建一条边" class="hash-link" aria-label="6.8.1.创建一条边的直接链接" title="6.8.1.创建一条边的直接链接">​</a></h4>
<ul>
<li>
<p><strong>URI</strong>: <code>/db/{graph_name}/node/{src}/relationship</code></p>
</li>
<li>
<p><strong>METHOD</strong>: POST</p>
</li>
<li>
<p><strong>REQUEST</strong>:</p>

























<table><thead><tr><th>域名</th><th>说明</th><th>类型</th></tr></thead><tbody><tr><td>label</td><td>边 Label</td><td>字符串</td></tr><tr><td>destination</td><td>目的点 ID</td><td>整数值</td></tr><tr><td>property</td><td>边属性</td><td>字典</td></tr></tbody></table>
</li>
<li>
<p><strong>RESPONSE</strong>: 如果成功，返回代码 200，同时返回新建立的边的 euid（字符串）。</p>
</li>
</ul>
<p><strong>Example request.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • POST http://localhost:7070/db/{graph_name}/node/{src}/relationship</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Accept: application/json; charset=UTF-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Content-Type: application/json</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Input:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;destination&quot; : 14,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;label&quot; : &quot;BORN_IN&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;property&quot; : {}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Example response.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • 200: OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Content-Type: application/json; charset=UTF-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Output:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;1_14_1_0&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="682批量创建边">6.8.2.批量创建边<a href="#682批量创建边" class="hash-link" aria-label="6.8.2.批量创建边的直接链接" title="6.8.2.批量创建边的直接链接">​</a></h4>
<ul>
<li><strong>URI</strong>: <code>/db/{graph_name}/relationship</code></li>
<li><strong>METHOD</strong>: POST</li>
<li><strong>REQUEST</strong>:

























<table><thead><tr><th>域名</th><th>说明</th><th>类型</th></tr></thead><tbody><tr><td>label</td><td>边 Label</td><td>字符串</td></tr><tr><td>fields</td><td>数据列名</td><td>列表</td></tr><tr><td>edge</td><td>边数据</td><td>列表</td></tr></tbody></table>
</li>
</ul>
<p>其中 edge 是一个数据列表，其中每个元素都是一条边，其定义如下：</p>

























<table><thead><tr><th>域名</th><th>说明</th><th>类型</th></tr></thead><tbody><tr><td>source</td><td>起点 id</td><td>整数</td></tr><tr><td>destination</td><td>终点 id</td><td>整数</td></tr><tr><td>values</td><td>数据列表</td><td>列表，每列对应 fields 中的一个列，类型是该列对应的类型</td></tr></tbody></table>
<ul>
<li><strong>RESPONSE</strong>: 如果成功，返回代码 200，同时返回新建立的边的 euid 列表。</li>
</ul>
<p><strong>Example request.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • POST http://localhost:7070/db/{graph_name}/relationship</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Accept: application/json; charset=UTF-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Content-Type: application/json</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Input:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;label&quot; : &quot;knows&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;fields&quot; : [&quot;from_year&quot;, &quot;weight&quot;],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;edge&quot; : [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          {&quot;source&quot;:0, &quot;destination&quot;:1, &quot;values&quot;:[2011, 0.8]},</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          {&quot;source&quot;:1, &quot;destination&quot;:2, &quot;values&quot;:[2008, 0.9]}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Example response.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • 200: OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Content-Type: application/json; charset=UTF-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Output:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;0_1_0_0&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;1_2_0_0&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="683列出所有出边outgoing-relationships">6.8.3.列出所有出边（outgoing relationships）<a href="#683列出所有出边outgoing-relationships" class="hash-link" aria-label="6.8.3.列出所有出边（outgoing relationships）的直接链接" title="6.8.3.列出所有出边（outgoing relationships）的直接链接">​</a></h4>
<ul>
<li><strong>URI</strong>: <code>/db/{graph_name}/node/{src}/relationship/out</code></li>
<li><strong>METHOD</strong>: GET</li>
<li><strong>RESPONSE</strong>: 点 src 的所有出边 euid 列表</li>
</ul>
<p><strong>Example request.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • GET http://localhost:7070/db/{graph_name}/node/4/relationship/out</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Accept: application/json; charset=UTF-8</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Example response.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • 200: OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Content-Type: application/json; charset=UTF-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Output:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;4_5_0_0&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;4_7_1_2&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="684列出所有入边incoming-relationships">6.8.4.列出所有入边（incoming relationships）<a href="#684列出所有入边incoming-relationships" class="hash-link" aria-label="6.8.4.列出所有入边（incoming relationships）的直接链接" title="6.8.4.列出所有入边（incoming relationships）的直接链接">​</a></h4>
<ul>
<li><strong>URI</strong>: <code>/db/{graph_name}/node/{dst}/relationship/in</code></li>
<li><strong>METHOD</strong>: GET</li>
<li><strong>RESPONSE</strong>: 点 dst 的所有入边 euid 列表</li>
</ul>
<p><strong>Example request.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • GET http://localhost:7070/db/{graph_name}/node/4/relationship/in</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Accept: application/json; charset=UTF-8</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Example response.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • 200: OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Content-Type: application/json; charset=UTF-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Output:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;0_4_0_0&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;3_4_3_1&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="685列出所有边">6.8.5.列出所有边<a href="#685列出所有边" class="hash-link" aria-label="6.8.5.列出所有边的直接链接" title="6.8.5.列出所有边的直接链接">​</a></h4>
<ul>
<li><strong>URI</strong>: <code>/db/{graph_name}/node/{src}/relationship/all</code></li>
<li><strong>METHOD</strong>: GET</li>
<li><strong>RESPONSE</strong>:




















<table><thead><tr><th>域名</th><th>说明</th><th>类型</th></tr></thead><tbody><tr><td>in</td><td>入边</td><td>列表</td></tr><tr><td>out</td><td>出边</td><td>列表</td></tr></tbody></table>
</li>
</ul>
<p><strong>Example request.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • GET http://localhost:7070/db/{graph_name}/node/4/relationships/all</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Accept: application/json; charset=UTF-8</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Example response.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • 200: OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Content-Type: application/json; charset=UTF-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Output:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;out&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;4_5_0_0&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;4_7_1_2&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;in&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;0_4_0_0&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;3_4_3_1&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="686获取边">6.8.6.获取边<a href="#686获取边" class="hash-link" aria-label="6.8.6.获取边的直接链接" title="6.8.6.获取边的直接链接">​</a></h4>
<ul>
<li><strong>URI</strong>: <code>/db/{graph_name}/relationship/{euid}</code></li>
<li><strong>METHOD</strong>: GET</li>
<li><strong>RESPONSE</strong>:




















<table><thead><tr><th>域名</th><th>说明</th><th>类型</th></tr></thead><tbody><tr><td>label</td><td>边 Label</td><td>字符串</td></tr><tr><td>property</td><td>边属性</td><td>字典</td></tr></tbody></table>
</li>
</ul>
<p><strong>Example request.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • GET http://localhost:7070/db/graph1/relationship/0_4_0_0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Accept: application/json; charset=UTF-8</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Example response.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • 200: OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Content-Type: application/json; charset=UTF-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Output:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;property&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;label&quot;: &quot;MARRIED&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="687删除边">6.8.7.删除边<a href="#687删除边" class="hash-link" aria-label="6.8.7.删除边的直接链接" title="6.8.7.删除边的直接链接">​</a></h4>
<ul>
<li><strong>URI</strong>: <code>/db/{graph_name}/relationship/{euid}</code></li>
<li><strong>METHOD</strong>: DELETE</li>
<li><strong>RESPONSE</strong>: 如果成功，返回代码 200。</li>
</ul>
<p><strong>Example request.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • DELETE http://localhost:7070/db/graph1/relationship/14_0_1_0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Accept: application/json; charset=UTF-8</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Example response.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • 200: OK</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="688获取边的所有属性">6.8.8.获取边的所有属性<a href="#688获取边的所有属性" class="hash-link" aria-label="6.8.8.获取边的所有属性的直接链接" title="6.8.8.获取边的所有属性的直接链接">​</a></h4>
<ul>
<li><strong>URI</strong>: <code>/db/{graph_name}/relationship/{euid}/property</code></li>
<li><strong>METHOD</strong>: GET</li>
<li><strong>RESPONSE</strong>: 边属性字典</li>
</ul>
<p><strong>Example request.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • GET http://localhost:7070/db/graph1/relationship/14_0_2_0/property</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Accept: application/json; charset=UTF-8</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Example response.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • 200: OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Content-Type: application/json; charset=UTF-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Output:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;weight&quot;: 0.8,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;begin&quot;: 20180922</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="689获取边的属性">6.8.9.获取边的属性<a href="#689获取边的属性" class="hash-link" aria-label="6.8.9.获取边的属性的直接链接" title="6.8.9.获取边的属性的直接链接">​</a></h4>
<ul>
<li><strong>URI</strong>: <code>/db/{graph_name}/relationship/{euid}/property/{field}</code></li>
<li><strong>METHOD</strong>: GET</li>
<li><strong>RESPONSE</strong>: 如果成功,返回代码 200,同时返回边的属性。如果失败,返回代码 400,同时返回 &quot;Illegal field.&quot;。</li>
</ul>
<p><strong>Example request.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • GET http://localhost:7070/db/graph1/relationship/17_0_2_2/property/charactername</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Accept: application/json; charset=UTF-8</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Example response.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • 200: OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Content-Type: application/json; charset=UTF-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Output:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;Henri Ducard&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="6810更新边的属性">6.8.10.更新边的属性<a href="#6810更新边的属性" class="hash-link" aria-label="6.8.10.更新边的属性的直接链接" title="6.8.10.更新边的属性的直接链接">​</a></h4>
<ul>
<li>
<p><strong>URI</strong>: <code>/db/{graph_name}/relationship/{euid}</code></p>
</li>
<li>
<p><strong>METHOD</strong>: PUT</p>
</li>
<li>
<p><strong>REQUEST</strong>:</p>















<table><thead><tr><th>域名</th><th>说明</th><th>类型</th></tr></thead><tbody><tr><td>property</td><td>边属性</td><td>字典</td></tr></tbody></table>
</li>
<li>
<p><strong>RESPONSE</strong>: 如果成功，返回代码 200。</p>
</li>
</ul>
<p><strong>Example request.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • PUT http://localhost:7070/db/graph1/relationship/17_0_2_2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Accept: application/json; charset=UTF-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Content-Type: application/json</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Input:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;property&quot; : {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;charactername&quot; : &quot;Henri Ducard/passer a&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Example response.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • 200: OK</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="69索引">6.9.索引<a href="#69索引" class="hash-link" aria-label="6.9.索引的直接链接" title="6.9.索引的直接链接">​</a></h3>
<p>URI 格式为</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    http://{host}:{port}/db/{graph_name}/index/{label}/{field}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>提供索引操作，接受 GET/POST 请求。</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="691创建索引">6.9.1.创建索引<a href="#691创建索引" class="hash-link" aria-label="6.9.1.创建索引的直接链接" title="6.9.1.创建索引的直接链接">​</a></h4>
<p>该操作会启动一个创建索引的后台任务，用户可以通过列出该 Label 相关的所有索引来检查新建索引的状态。</p>
<ul>
<li><strong>URI</strong>: <code>/db/{graph_name}/index</code></li>
<li><strong>METHOD</strong>: POST</li>
<li><strong>REQUEST</strong>:</li>
</ul>

























<table><thead><tr><th>域名</th><th>说明</th><th>类型</th></tr></thead><tbody><tr><td>label</td><td>Label 名</td><td>字符串</td></tr><tr><td>field</td><td>域名</td><td>字符串</td></tr><tr><td>is_unique</td><td>唯一性标识</td><td>布尔值，如果为 true，表示该 index 中的 key 是唯一的</td></tr></tbody></table>
<ul>
<li><strong>RESPONSE</strong>: 如果成功，返回代码 200。</li>
</ul>
<p><strong>Example request.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • POST http://localhost:7070/db/graph1/index</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Accept: application/json; charset=UTF-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Content-Type: application/json</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Input:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;label&quot;: &quot;Person&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;field&quot;: &quot;birthyear&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;is_unique&quot; : false</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Example response.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • 200: OK</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="692列出所有索引">6.9.2.列出所有索引<a href="#692列出所有索引" class="hash-link" aria-label="6.9.2.列出所有索引的直接链接" title="6.9.2.列出所有索引的直接链接">​</a></h4>
<ul>
<li><strong>URI</strong>: <code>/db/{graph_name}/index</code></li>
<li><strong>METHOD</strong>: GET</li>
<li><strong>RESPONSE</strong>: 索引列表，其中每一个元素是一个索引描述，格式与<a href="#indexspec">创建索引</a>时使用格式相同。</li>
</ul>
<p><strong>Example request.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • GET http://localhost:7070/db/graph1/index</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Accept: application/json; charset=UTF-8</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Example response.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • 200: OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Content-Type: application/json; charset=UTF-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Output:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;field&quot;: &quot;name&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;label&quot;: &quot;City&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;is_unique&quot;: false</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;field&quot;: &quot;title&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;label&quot;: &quot;Film&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;is_unique&quot;: false</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;field&quot;: &quot;name&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;label&quot;: &quot;Person&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;is_unique&quot;: true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;label&quot;: &quot;Person&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;field&quot;: &quot;age&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;is_unique&quot;: false</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="693列出所有与某个-label-相关的索引">6.9.3.列出所有与某个 Label 相关的索引<a href="#693列出所有与某个-label-相关的索引" class="hash-link" aria-label="6.9.3.列出所有与某个 Label 相关的索引的直接链接" title="6.9.3.列出所有与某个 Label 相关的索引的直接链接">​</a></h4>
<ul>
<li><strong>URI</strong>: <code>/db/{graph_name}/index/{label}</code></li>
<li><strong>METHOD</strong>: GET</li>
<li><strong>RESPONSE</strong>: 索引列表，其中每一个元素是一个索引描述，格式与<a href="#indexspec">创建索引</a>时使用格式相同。</li>
</ul>
<p><strong>Example request.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • GET http://localhost:7070/db/graph1/index/Person</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Accept: application/json; charset=UTF-8</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Example response.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • 200: OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Content-Type: application/json; charset=UTF-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Output:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;label&quot;: &quot;Person&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;field&quot;: &quot;name&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;is_unique&quot;: true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;label&quot;: &quot;Person&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;field&quot;: &quot;age&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;is_unique&quot;: false</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="694删除索引">6.9.4.删除索引<a href="#694删除索引" class="hash-link" aria-label="6.9.4.删除索引的直接链接" title="6.9.4.删除索引的直接链接">​</a></h4>
<ul>
<li><strong>URI</strong>: <code>/db/{graph_name}/index/{label}/{field}</code></li>
<li><strong>METHOD</strong>: DELETE</li>
<li><strong>RESPONSE</strong>: 如果成功，返回代码 200。</li>
</ul>
<p><strong>Example request.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • DELETE http://localhost:7070/db/graph1/index/Person/name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Accept: application/json; charset=UTF-8</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Example response.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • 200: OK</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="695根据索引获取点">6.9.5.根据索引获取点<a href="#695根据索引获取点" class="hash-link" aria-label="6.9.5.根据索引获取点的直接链接" title="6.9.5.根据索引获取点的直接链接">​</a></h4>
<ul>
<li><strong>URI</strong>: <code>/db/{graph_name}/index/{label}/?field={field}&amp;value={value}</code></li>
<li><strong>METHOD</strong>: GET</li>
<li><strong>RESPONSE</strong>: 点 vid 列表</li>
</ul>
<p><strong>Example request.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • GET http://localhost:7070/db/graph1/index/Person/?field=birthyear&amp;value=1986</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Accept: application/json; charset=UTF-8</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Example response.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • 200: OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Output:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            1,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="610在线增量导入">6.10.在线增量导入<a href="#610在线增量导入" class="hash-link" aria-label="6.10.在线增量导入的直接链接" title="6.10.在线增量导入的直接链接">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="6101指定文件内容导入">6.10.1.指定文件内容导入<a href="#6101指定文件内容导入" class="hash-link" aria-label="6.10.1.指定文件内容导入的直接链接" title="6.10.1.指定文件内容导入的直接链接">​</a></h4>
<ul>
<li><strong>URI</strong>: <code>/db/{graph_name}/import/text</code></li>
<li><strong>METHOD</strong>: POST</li>
<li><strong>REQUEST</strong>:








































<table><thead><tr><th>域名</th><th>说明</th><th>类型</th></tr></thead><tbody><tr><td>description</td><td>文件内容描述</td><td>字符串</td></tr><tr><td>data</td><td>要导入的文件内容（建议最 大在 16MB 左右，最长不超过 17MB）</td><td>字符串 / 数组 / 对象</td></tr><tr><td>continue_on_error</td><td>出错后是否继续导入（可选，默认为<code>false</code></td><td></td></tr><tr><td>）</td><td>布尔值</td><td></td></tr><tr><td>delimiter</td><td>分隔符（可选，默认为<code>“,”</code></td><td></td></tr><tr><td>）</td><td>字符串</td><td></td></tr></tbody></table>
</li>
</ul>
<p>description 的具体描述方法见《TuGraph 操作手册》中数据导入配置文件的相关内容。</p>
<p>分隔符可以是单字符，也可以是字符串，但不能包含<code>\r</code>或者<code>\n</code>。</p>
<p>data 可以是如下形式之一：</p>
<ul>
<li>
<p>字符串如 <code>&quot;1,2\n3,4\n&quot;</code></p>
</li>
<li>
<p>ASCII 码组成的数组如 <code>[49,44,50,10,51,44,52,10]</code></p>
</li>
<li>
<p>形如上述数组的字典如 <code>{&quot;0&quot;:49,&quot;1&quot;:44,&quot;2&quot;:50,&quot;3&quot;:10,&quot;4&quot;:51,&quot;5&quot;:44,&quot;6&quot;:52,&quot;7&quot;:10}</code></p>
</li>
<li>
<p><strong>RESPONSE</strong>:</p>
</li>
</ul>
<p>系统<strong>不会</strong>自动执行新建 label、添加索引等操作。在此操作之前需要保证涉及的 label 已经存在并具有适当的索引。</p>
<p>如果成功导入完毕，返回代码 200，并在 <code>log</code> 字段返回一些日志信息（可能为空）；否则，保证所有的数据均未被导入，并在 <code>error_message</code> 字段返回错误信息。</p>
<p><strong>Example request.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • POST http://localhost:7070/db/graph1/import/text</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Accept: application/json; charset=UTF-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Content-Type: application/json; charset=UTF-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Input:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;description&quot;: &quot;{\\&quot;files\\&quot;:[{\\&quot;columns\\&quot;:[\\&quot;SRC_ID\\&quot;,\\&quot;role\\&quot;,\\&quot;DST_ID\\&quot;],\\&quot;format\\&quot;:\\&quot;CSV\\&quot;,\\&quot;label\\&quot;:\\&quot;role\\&quot;,\\&quot;SRC_ID\\&quot;:\\&quot;actor\\&quot;,\\&quot;DST_ID\\&quot;:\\&quot;movie\\&quot;}]}&quot;}&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;data&quot;: &quot;1,Role1,2\n3,Role2,4\n&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;continue_on_error&quot;: true,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;delimiter&quot;: &quot;,&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>上述 description 的值  是如下 json 序列化后的字符串</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;files&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;format&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;CSV&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;label&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;role&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;SRC_ID&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;actor&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;DST_ID&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;movie&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;columns&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;SRC_ID&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;role&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;DST_ID&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Example response.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • 200: OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Output:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;log&quot;: &quot;Missing src uid 1\n&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>由于请求中指定了在出错时继续，该返回信息说明 SRC_ID 为 1 的边没有被导入，而其他信息导入成功。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="611其他">6.11.其他<a href="#611其他" class="hash-link" aria-label="6.11.其他的直接链接" title="6.11.其他的直接链接">​</a></h3>
<p>URI 格式为</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    http://{host}:{port}/db/{graph_name}/misc</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="6111提取子图">6.11.1.提取子图<a href="#6111提取子图" class="hash-link" aria-label="6.11.1.提取子图的直接链接" title="6.11.1.提取子图的直接链接">​</a></h4>
<p>给出点 id 集合，返回包含该集合的最小子图。</p>
<ul>
<li>
<p><strong>URI</strong>: <code>/db/{graph_name}/misc/sub_graph</code></p>
</li>
<li>
<p><strong>METHOD</strong>: POST</p>
</li>
<li>
<p><strong>REQUEST</strong>:</p>















<table><thead><tr><th>域名</th><th>说明</th><th>类型</th></tr></thead><tbody><tr><td>vertex_ids</td><td>点 id 集合</td><td>列表</td></tr></tbody></table>
</li>
<li>
<p><strong>RESPONSE</strong>:</p>




















<table><thead><tr><th>域名</th><th>说明</th><th>类型</th></tr></thead><tbody><tr><td>nodes</td><td>点数据</td><td>列表，每元素包含 vid, label, 以及属性</td></tr><tr><td>relationships</td><td>边数据</td><td>列表，每元素包含 src, dst, euid, label, 以及属性</td></tr></tbody></table>
</li>
</ul>
<p><strong>Example request.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    • POST http://localhost:7070/db/graph1/misc/sub_graph</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Accept: application/json; charset=UTF-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    • Content-Type: application/json; charset=UTF-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Input:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;vertex_ids&quot;: [2, 5, 14, 20]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Example response.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">• 200: OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Output:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;nodes&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;label&quot;: &quot;Person&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;properties&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &quot;birthyear&quot;: 1937,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &quot;name&quot;: &quot;Vanessa Redgrave&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;vid&quot;: 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;label&quot;: &quot;Person&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;properties&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &quot;birthyear&quot;: 1963,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &quot;name&quot;: &quot;Natasha Richardson&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;vid&quot;: 5</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;label&quot;: &quot;City&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;properties&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &quot;name&quot;: &quot;London&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;vid&quot;: 14</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;label&quot;: &quot;Film&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;properties&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &quot;title&quot;: &quot;Camelot&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;vid&quot;: 20</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;relationships&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;destination&quot;: 5,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;label&quot;: &quot;HAS_CHILD&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;properties&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &quot;birthyear&quot;: 1937,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &quot;name&quot;: &quot;Vanessa Redgrave&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;source&quot;: 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;destination&quot;: 14,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;label&quot;: &quot;BORN_IN&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;properties&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &quot;birthyear&quot;: 1937,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &quot;name&quot;: &quot;Vanessa Redgrave&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;source&quot;: 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;destination&quot;: 20,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;label&quot;: &quot;ACTED_IN&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;properties&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &quot;birthyear&quot;: 1937,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &quot;charactername&quot;: &quot;Guenevere&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &quot;name&quot;: &quot;Vanessa Redgrave&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;source&quot;: 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;destination&quot;: 14,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;label&quot;: &quot;BORN_IN&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;properties&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &quot;birthyear&quot;: 1963,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &quot;name&quot;: &quot;Natasha Richardson&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;source&quot;: 5</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文件选项卡"><a class="pagination-nav__link pagination-nav__link--prev" href="/tugraph-db/zh/3.6.0/developer-manual/interface/protocol/rpc-api"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">RPC API</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/tugraph-db/zh/3.6.0/developer-manual/interface/learn/tutorial"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">Learn Tutorial</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#1简介" class="table-of-contents__link toc-highlight">1.简介</a></li><li><a href="#2请求与数据格式" class="table-of-contents__link toc-highlight">2.请求与数据格式</a><ul><li><a href="#21请求" class="table-of-contents__link toc-highlight">2.1请求</a></li><li><a href="#22数据格式" class="table-of-contents__link toc-highlight">2.2.数据格式</a></li><li><a href="#23返回值" class="table-of-contents__link toc-highlight">2.3.返回值</a></li><li><a href="#24uri格式" class="table-of-contents__link toc-highlight">2.4.URI格式</a></li></ul></li><li><a href="#3登录" class="table-of-contents__link toc-highlight">3.登录</a><ul><li><a href="#31登录" class="table-of-contents__link toc-highlight">3.1.登录</a></li><li><a href="#32身份刷新" class="table-of-contents__link toc-highlight">3.2.身份刷新</a></li><li><a href="#33修改token有效期" class="table-of-contents__link toc-highlight">3.3.修改Token有效期</a></li><li><a href="#34查询token有效期" class="table-of-contents__link toc-highlight">3.4.查询Token有效期</a></li><li><a href="#35登出" class="table-of-contents__link toc-highlight">3.5.登出</a></li></ul></li><li><a href="#4查询" class="table-of-contents__link toc-highlight">4.查询</a><ul><li><a href="#41调用cypher" class="table-of-contents__link toc-highlight">4.1.调用Cypher</a></li><li><a href="#42调用带参数的-cypher" class="table-of-contents__link toc-highlight">4.2.调用带参数的 Cypher</a></li></ul></li><li><a href="#5存储过程" class="table-of-contents__link toc-highlight">5.存储过程</a><ul><li><a href="#51加载存储过程" class="table-of-contents__link toc-highlight">5.1.加载存储过程</a></li><li><a href="#52列出所有存储过程" class="table-of-contents__link toc-highlight">5.2.列出所有存储过程</a></li><li><a href="#53获取存储过程的详细信息" class="table-of-contents__link toc-highlight">5.3.获取存储过程的详细信息</a></li><li><a href="#54调用存储过程" class="table-of-contents__link toc-highlight">5.4.调用存储过程</a></li><li><a href="#55删除存储过程" class="table-of-contents__link toc-highlight">5.5.删除存储过程</a></li></ul></li><li><a href="#6deprecated" class="table-of-contents__link toc-highlight">6.Deprecated</a><ul><li><a href="#61用户管理" class="table-of-contents__link toc-highlight">6.1.用户管理</a><ul><li><a href="#611添加用户" class="table-of-contents__link toc-highlight">6.1.1.添加用户</a></li><li><a href="#612列出所有用户" class="table-of-contents__link toc-highlight">6.1.2.列出所有用户</a></li><li><a href="#613获取用户信息" class="table-of-contents__link toc-highlight">6.1.3.获取用户信息</a></li><li><a href="#614列出用户权限" class="table-of-contents__link toc-highlight">6.1.4.列出用户权限</a></li><li><a href="#615更改用户密码" class="table-of-contents__link toc-highlight">6.1.5.更改用户密码</a></li><li><a href="#616修改用户描述" class="table-of-contents__link toc-highlight">6.1.6.修改用户描述</a></li><li><a href="#617删除用户" class="table-of-contents__link toc-highlight">6.1.7.删除用户</a></li><li><a href="#618禁用用户" class="table-of-contents__link toc-highlight">6.1.8.禁用用户</a></li><li><a href="#619启用用户" class="table-of-contents__link toc-highlight">6.1.9.启用用户</a></li><li><a href="#6110设置用户角色" class="table-of-contents__link toc-highlight">6.1.10.设置用户角色</a></li></ul></li><li><a href="#62角色管理" class="table-of-contents__link toc-highlight">6.2.角色管理</a><ul><li><a href="#621添加角色" class="table-of-contents__link toc-highlight">6.2.1.添加角色</a></li><li><a href="#622修改角色描述" class="table-of-contents__link toc-highlight">6.2.2.修改角色描述</a></li><li><a href="#623列出所有角色" class="table-of-contents__link toc-highlight">6.2.3.列出所有角色</a></li><li><a href="#624获取角色信息" class="table-of-contents__link toc-highlight">6.2.4.获取角色信息</a></li><li><a href="#625删除角色" class="table-of-contents__link toc-highlight">6.2.5.删除角色</a></li><li><a href="#626禁用角色" class="table-of-contents__link toc-highlight">6.2.6.禁用角色</a></li><li><a href="#627启用角色" class="table-of-contents__link toc-highlight">6.2.7.启用角色</a></li><li><a href="#628设置角色权限" class="table-of-contents__link toc-highlight">6.2.8.设置角色权限</a></li></ul></li><li><a href="#63服务器状态" class="table-of-contents__link toc-highlight">6.3.服务器状态</a><ul><li><a href="#631修改服务器配置" class="table-of-contents__link toc-highlight">6.3.1.修改服务器配置</a></li><li><a href="#632当前服务器状态" class="table-of-contents__link toc-highlight">6.3.2. 当前服务器状态</a></li><li><a href="#633服务器-cpu-状态" class="table-of-contents__link toc-highlight">6.3.3.服务器 CPU 状态</a></li><li><a href="#634服务器硬盘状态" class="table-of-contents__link toc-highlight">6.3.4.服务器硬盘状态</a></li><li><a href="#635服务器内存状态" class="table-of-contents__link toc-highlight">6.3.5.服务器内存状态</a></li><li><a href="#636图数据库占用空间" class="table-of-contents__link toc-highlight">6.3.6.图数据库占用空间</a></li><li><a href="#637图数据库配置信息" class="table-of-contents__link toc-highlight">6.3.7.图数据库配置信息</a></li><li><a href="#638高可用服务器列表" class="table-of-contents__link toc-highlight">6.3.8.高可用服务器列表</a></li><li><a href="#639当前-leader-信息" class="table-of-contents__link toc-highlight">6.3.9.当前 Leader 信息</a></li><li><a href="#6310服务器统计信息" class="table-of-contents__link toc-highlight">6.3.10.服务器统计信息</a></li><li><a href="#6311审计日志信息" class="table-of-contents__link toc-highlight">6.3.11.审计日志信息</a></li></ul></li><li><a href="#64任务管理" class="table-of-contents__link toc-highlight">6.4.任务管理</a><ul><li><a href="#641查询正在执行的任务" class="table-of-contents__link toc-highlight">6.4.1.查询正在执行的任务</a></li><li><a href="#642中止任务" class="table-of-contents__link toc-highlight">6.4.2.中止任务</a></li></ul></li><li><a href="#65子图管理" class="table-of-contents__link toc-highlight">6.5.子图管理</a><ul><li><a href="#651创建新子图" class="table-of-contents__link toc-highlight">6.5.1.创建新子图</a></li><li><a href="#652删除子图" class="table-of-contents__link toc-highlight">6.5.2.删除子图</a></li><li><a href="#653列出所有子图" class="table-of-contents__link toc-highlight">6.5.3.列出所有子图</a></li><li><a href="#654获取子图信息" class="table-of-contents__link toc-highlight">6.5.4.获取子图信息</a></li></ul></li><li><a href="#66元数据管理" class="table-of-contents__link toc-highlight">6.6.元数据管理</a><ul><li><a href="#661创建label" class="table-of-contents__link toc-highlight">6.6.1.创建Label</a></li><li><a href="#662列出所有-label" class="table-of-contents__link toc-highlight">6.6.2.列出所有 Label</a></li><li><a href="#663获取-label-的数据格式定义" class="table-of-contents__link toc-highlight">6.6.3.获取 Label 的数据格式定义</a></li><li><a href="#664schema-导入" class="table-of-contents__link toc-highlight">6.6.4.Schema 导入</a></li></ul></li><li><a href="#67点操作" class="table-of-contents__link toc-highlight">6.7.点操作</a><ul><li><a href="#671列出点数量和label数量" class="table-of-contents__link toc-highlight">6.7.1.列出点数量和label数量</a></li><li><a href="#672创建一个点" class="table-of-contents__link toc-highlight">6.7.2.创建一个点</a></li><li><a href="#673批量创建点" class="table-of-contents__link toc-highlight">6.7.3.批量创建点</a></li><li><a href="#674获取点" class="table-of-contents__link toc-highlight">6.7.4.获取点</a></li><li><a href="#675删除点" class="table-of-contents__link toc-highlight">6.7.5.删除点</a></li><li><a href="#676获取点所有属性" class="table-of-contents__link toc-highlight">6.7.6.获取点所有属性</a></li><li><a href="#677获取点属性" class="table-of-contents__link toc-highlight">6.7.7.获取点属性</a></li><li><a href="#678更新点属性" class="table-of-contents__link toc-highlight">6.7.8.更新点属性</a></li></ul></li><li><a href="#68边操作" class="table-of-contents__link toc-highlight">6.8.边操作</a><ul><li><a href="#681创建一条边" class="table-of-contents__link toc-highlight">6.8.1.创建一条边</a></li><li><a href="#682批量创建边" class="table-of-contents__link toc-highlight">6.8.2.批量创建边</a></li><li><a href="#683列出所有出边outgoing-relationships" class="table-of-contents__link toc-highlight">6.8.3.列出所有出边（outgoing relationships）</a></li><li><a href="#684列出所有入边incoming-relationships" class="table-of-contents__link toc-highlight">6.8.4.列出所有入边（incoming relationships）</a></li><li><a href="#685列出所有边" class="table-of-contents__link toc-highlight">6.8.5.列出所有边</a></li><li><a href="#686获取边" class="table-of-contents__link toc-highlight">6.8.6.获取边</a></li><li><a href="#687删除边" class="table-of-contents__link toc-highlight">6.8.7.删除边</a></li><li><a href="#688获取边的所有属性" class="table-of-contents__link toc-highlight">6.8.8.获取边的所有属性</a></li><li><a href="#689获取边的属性" class="table-of-contents__link toc-highlight">6.8.9.获取边的属性</a></li><li><a href="#6810更新边的属性" class="table-of-contents__link toc-highlight">6.8.10.更新边的属性</a></li></ul></li><li><a href="#69索引" class="table-of-contents__link toc-highlight">6.9.索引</a><ul><li><a href="#691创建索引" class="table-of-contents__link toc-highlight">6.9.1.创建索引</a></li><li><a href="#692列出所有索引" class="table-of-contents__link toc-highlight">6.9.2.列出所有索引</a></li><li><a href="#693列出所有与某个-label-相关的索引" class="table-of-contents__link toc-highlight">6.9.3.列出所有与某个 Label 相关的索引</a></li><li><a href="#694删除索引" class="table-of-contents__link toc-highlight">6.9.4.删除索引</a></li><li><a href="#695根据索引获取点" class="table-of-contents__link toc-highlight">6.9.5.根据索引获取点</a></li></ul></li><li><a href="#610在线增量导入" class="table-of-contents__link toc-highlight">6.10.在线增量导入</a><ul><li><a href="#6101指定文件内容导入" class="table-of-contents__link toc-highlight">6.10.1.指定文件内容导入</a></li></ul></li><li><a href="#611其他" class="table-of-contents__link toc-highlight">6.11.其他</a><ul><li><a href="#6111提取子图" class="table-of-contents__link toc-highlight">6.11.1.提取子图</a></li></ul></li></ul></li></ul></div></div></div></div></main></div></div></div></div>
</body>
</html>